Version 4
SHEET 1 6068 1612
WIRE 32 -3040 16 -3040
WIRE 176 -3040 32 -3040
WIRE 448 -3040 176 -3040
WIRE 576 -3040 448 -3040
WIRE 640 -3040 576 -3040
WIRE 880 -3040 640 -3040
WIRE 1360 -3040 1200 -3040
WIRE 1488 -3040 1360 -3040
WIRE 1648 -3040 1488 -3040
WIRE 176 -3008 176 -3040
WIRE 448 -3008 448 -3040
WIRE 576 -3008 576 -3040
WIRE 640 -3008 640 -3040
WIRE 1360 -3008 1360 -3040
WIRE 32 -2976 32 -3040
WIRE -176 -2960 -208 -2960
WIRE -208 -2944 -208 -2960
WIRE 880 -2944 880 -3040
WIRE 1200 -2928 1200 -3040
WIRE 1248 -2928 1200 -2928
WIRE 1648 -2928 1648 -3040
WIRE 1648 -2928 1600 -2928
WIRE 2032 -2928 2000 -2928
WIRE 2128 -2928 2096 -2928
WIRE 576 -2912 576 -2944
WIRE 640 -2912 640 -2928
WIRE 640 -2912 576 -2912
WIRE 1200 -2912 1200 -2928
WIRE 1488 -2912 1488 -3040
WIRE 1648 -2912 1648 -2928
WIRE 176 -2896 176 -2928
WIRE 720 -2896 176 -2896
WIRE 816 -2896 800 -2896
WIRE 1248 -2896 1248 -2928
WIRE 1600 -2896 1600 -2928
WIRE 640 -2864 640 -2912
WIRE 2000 -2864 2000 -2928
WIRE 2016 -2864 2000 -2864
WIRE 2128 -2864 2128 -2928
WIRE 2128 -2864 2096 -2864
WIRE 176 -2848 176 -2896
WIRE 2240 -2848 2240 -2864
WIRE 448 -2816 448 -2928
WIRE 480 -2816 448 -2816
WIRE 576 -2816 560 -2816
WIRE 112 -2800 96 -2800
WIRE 448 -2800 448 -2816
WIRE 880 -2800 880 -2848
WIRE 960 -2800 880 -2800
WIRE 1008 -2800 960 -2800
WIRE 1200 -2800 1200 -2816
WIRE 1248 -2800 1248 -2832
WIRE 1248 -2800 1200 -2800
WIRE 1600 -2800 1600 -2832
WIRE 1648 -2800 1648 -2816
WIRE 1648 -2800 1600 -2800
WIRE -176 -2784 -208 -2784
WIRE 1856 -2784 1856 -2832
WIRE 1856 -2784 1776 -2784
WIRE 1888 -2784 1856 -2784
WIRE 2000 -2784 2000 -2864
WIRE 2000 -2784 1968 -2784
WIRE 2032 -2784 2000 -2784
WIRE -208 -2768 -208 -2784
WIRE 2128 -2768 2128 -2864
WIRE 2128 -2768 2096 -2768
WIRE 2144 -2768 2128 -2768
WIRE 2240 -2768 2240 -2784
WIRE 2240 -2768 2224 -2768
WIRE 2320 -2768 2240 -2768
WIRE 384 -2752 368 -2752
WIRE 880 -2752 880 -2800
WIRE 1200 -2752 1200 -2800
WIRE 1392 -2752 1200 -2752
WIRE 1648 -2752 1648 -2800
WIRE 1648 -2752 1472 -2752
WIRE 1792 -2752 1792 -2832
WIRE 1792 -2752 1744 -2752
WIRE 1888 -2752 1792 -2752
WIRE 2000 -2752 1968 -2752
WIRE 2032 -2752 2000 -2752
WIRE 2240 -2752 2240 -2768
WIRE 2000 -2720 2000 -2752
WIRE 640 -2704 640 -2768
WIRE 720 -2704 640 -2704
WIRE 816 -2704 800 -2704
WIRE 1200 -2704 1200 -2752
WIRE 1248 -2704 1200 -2704
WIRE 1648 -2704 1648 -2752
WIRE 1648 -2704 1600 -2704
WIRE 176 -2688 176 -2752
WIRE 240 -2688 176 -2688
WIRE 1200 -2688 1200 -2704
WIRE 1648 -2688 1648 -2704
WIRE 176 -2672 176 -2688
WIRE 240 -2672 240 -2688
WIRE 640 -2672 640 -2704
WIRE 1248 -2672 1248 -2704
WIRE 1600 -2672 1600 -2704
WIRE 960 -2656 960 -2800
WIRE 1776 -2656 1776 -2784
WIRE 2240 -2656 2240 -2672
WIRE 2000 -2608 2000 -2640
WIRE 1200 -2576 1200 -2592
WIRE 1248 -2576 1248 -2608
WIRE 1248 -2576 1200 -2576
WIRE 1600 -2576 1600 -2608
WIRE 1648 -2576 1648 -2592
WIRE 1648 -2576 1600 -2576
WIRE 176 -2560 176 -2608
WIRE 240 -2560 240 -2592
WIRE 240 -2560 176 -2560
WIRE 448 -2560 448 -2704
WIRE 448 -2560 240 -2560
WIRE 640 -2560 640 -2592
WIRE 640 -2560 448 -2560
WIRE 880 -2560 880 -2656
WIRE 880 -2560 640 -2560
WIRE 960 -2560 960 -2576
WIRE 960 -2560 880 -2560
WIRE 1200 -2528 1200 -2576
WIRE 1200 -2528 1184 -2528
WIRE 1648 -2528 1648 -2576
WIRE 1648 -2528 1200 -2528
WIRE 32 -2432 16 -2432
WIRE 176 -2432 32 -2432
WIRE 448 -2432 176 -2432
WIRE 576 -2432 448 -2432
WIRE 640 -2432 576 -2432
WIRE 880 -2432 640 -2432
WIRE 176 -2400 176 -2432
WIRE 448 -2400 448 -2432
WIRE 576 -2400 576 -2432
WIRE 640 -2400 640 -2432
WIRE 32 -2368 32 -2432
WIRE -144 -2352 -176 -2352
WIRE -176 -2336 -176 -2352
WIRE 880 -2336 880 -2432
WIRE 1424 -2336 1312 -2336
WIRE 1440 -2336 1424 -2336
WIRE 1312 -2320 1312 -2336
WIRE 1424 -2320 1424 -2336
WIRE 576 -2304 576 -2336
WIRE 640 -2304 640 -2320
WIRE 640 -2304 576 -2304
WIRE 176 -2288 176 -2320
WIRE 720 -2288 176 -2288
WIRE 816 -2288 800 -2288
WIRE 1648 -2272 1552 -2272
WIRE 1920 -2272 1648 -2272
WIRE 640 -2256 640 -2304
WIRE 176 -2240 176 -2288
WIRE 2208 -2240 2208 -2256
WIRE 1312 -2224 1312 -2256
WIRE 1424 -2224 1424 -2240
WIRE 1424 -2224 1312 -2224
WIRE 1472 -2224 1424 -2224
WIRE 448 -2208 448 -2320
WIRE 480 -2208 448 -2208
WIRE 576 -2208 560 -2208
WIRE 1424 -2208 1424 -2224
WIRE 1472 -2208 1472 -2224
WIRE 1552 -2208 1552 -2272
WIRE 1648 -2208 1648 -2272
WIRE 112 -2192 96 -2192
WIRE 448 -2192 448 -2208
WIRE 880 -2192 880 -2240
WIRE 960 -2192 880 -2192
WIRE 1008 -2192 960 -2192
WIRE 1312 -2192 1312 -2224
WIRE 1920 -2176 1920 -2272
WIRE 1952 -2176 1920 -2176
WIRE 2032 -2160 2016 -2160
WIRE 2048 -2160 2032 -2160
WIRE 2112 -2160 2048 -2160
WIRE 2208 -2160 2208 -2176
WIRE 2208 -2160 2192 -2160
WIRE 2288 -2160 2208 -2160
WIRE 384 -2144 368 -2144
WIRE 880 -2144 880 -2192
WIRE 1952 -2144 1920 -2144
WIRE 2208 -2144 2208 -2160
WIRE -144 -2128 -176 -2128
WIRE -176 -2112 -176 -2128
WIRE 1312 -2112 1312 -2128
WIRE 1424 -2112 1424 -2128
WIRE 1424 -2112 1312 -2112
WIRE 1456 -2112 1424 -2112
WIRE 640 -2096 640 -2160
WIRE 720 -2096 640 -2096
WIRE 816 -2096 800 -2096
WIRE 1312 -2096 1312 -2112
WIRE 1424 -2096 1424 -2112
WIRE 176 -2080 176 -2144
WIRE 240 -2080 176 -2080
WIRE 176 -2064 176 -2080
WIRE 240 -2064 240 -2080
WIRE 640 -2064 640 -2096
WIRE 960 -2048 960 -2192
WIRE 1552 -2048 1552 -2128
WIRE 1648 -2048 1648 -2128
WIRE 1648 -2048 1552 -2048
WIRE 1824 -2048 1648 -2048
WIRE 1920 -2048 1920 -2144
WIRE 1920 -2048 1904 -2048
WIRE 1936 -2048 1920 -2048
WIRE 2032 -2048 2032 -2160
WIRE 2032 -2048 2016 -2048
WIRE 2208 -2048 2208 -2064
WIRE 1312 -2000 1312 -2032
WIRE 1424 -2000 1424 -2016
WIRE 1424 -2000 1312 -2000
WIRE 1440 -2000 1424 -2000
WIRE 176 -1952 176 -2000
WIRE 240 -1952 240 -1984
WIRE 240 -1952 176 -1952
WIRE 448 -1952 448 -2096
WIRE 448 -1952 240 -1952
WIRE 640 -1952 640 -1984
WIRE 640 -1952 448 -1952
WIRE 880 -1952 880 -2048
WIRE 880 -1952 640 -1952
WIRE 960 -1952 960 -1968
WIRE 960 -1952 880 -1952
FLAG 1456 -2112 -
IOPIN 1456 -2112 BiDir
FLAG 1440 -2336 +
IOPIN 1440 -2336 BiDir
FLAG 1472 -2208 0
FLAG 1440 -2000 VL+
IOPIN 1440 -2000 BiDir
FLAG 2240 -2656 -
IOPIN 2240 -2656 BiDir
FLAG 2240 -2864 VL+
IOPIN 2240 -2864 BiDir
FLAG 2064 -2800 +
IOPIN 2064 -2800 BiDir
FLAG 2064 -2736 -
IOPIN 2064 -2736 BiDir
FLAG 1744 -2752 Vtest
FLAG 2000 -2608 0
FLAG 1776 -2656 0
FLAG 32 -2304 -
IOPIN 32 -2304 BiDir
FLAG 1984 -2128 +
IOPIN 1984 -2128 BiDir
FLAG 1984 -2192 -
IOPIN 1984 -2192 BiDir
FLAG 2048 -2160 Vtest
FLAG 2208 -2048 -
IOPIN 2208 -2048 BiDir
FLAG 2208 -2256 VL+
IOPIN 2208 -2256 BiDir
FLAG -208 -2864 -
IOPIN -208 -2864 BiDir
FLAG -176 -2960 mosfets_on1
FLAG -208 -2688 -
IOPIN -208 -2688 BiDir
FLAG -176 -2784 mosfets_off1
FLAG 32 -2912 -
IOPIN 32 -2912 BiDir
FLAG 1008 -2800 MD1
FLAG 1008 -2192 MD2
FLAG 1152 -2608 MD2
FLAG 1696 -2832 MD2
FLAG 1152 -2832 MD1
FLAG 1696 -2608 MD1
FLAG 1360 -2944 -
IOPIN 1360 -2944 BiDir
FLAG 1488 -2912 0
FLAG 1184 -2528 -
IOPIN 1184 -2528 BiDir
FLAG 176 -2560 -
IOPIN 176 -2560 BiDir
FLAG 176 -1952 -
IOPIN 176 -1952 BiDir
FLAG 288 -2144 mosfets_off2
FLAG 16 -2800 mosfets_on1
FLAG 16 -2192 mosfets_on2
FLAG 288 -2752 mosfets_off1
FLAG -176 -2032 -
IOPIN -176 -2032 BiDir
FLAG -144 -2128 mosfets_off2
FLAG -176 -2256 -
IOPIN -176 -2256 BiDir
FLAG -144 -2352 mosfets_on2
FLAG 16 -3040 +
IOPIN 16 -3040 BiDir
FLAG 16 -2432 +
IOPIN 16 -2432 BiDir
SYMBOL voltage 1424 -2224 M0
WINDOW 123 0 0 Left 2
WINDOW 39 -63 34 Left 2
WINDOW 0 -53 60 Left 2
WINDOW 3 -15 62 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage 1424 -2336 M0
WINDOW 123 0 0 Left 2
WINDOW 39 -61 27 Left 2
WINDOW 0 -54 49 Left 2
WINDOW 3 -9 55 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V4
SYMATTR Value 15
SYMBOL voltage 1424 -2000 M180
WINDOW 123 0 0 Left 2
WINDOW 39 13 78 Left 2
WINDOW 0 37 57 Left 2
WINDOW 3 -3 60 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL Misc\\EuropeanResistor 2128 -2752 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 4k7
SYMBOL Misc\\EuropeanResistor 2224 -2656 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R16
SYMATTR Value 2k2
SYMBOL schottky 2256 -2784 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL Opamps\\opamp2 2064 -2832 R0
WINDOW 3 -32 63 Left 2
SYMATTR Value lm318
SYMATTR InstName U3
SYMBOL Misc\\EuropeanResistor 2000 -2880 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL Misc\\EuropeanCap 2096 -2912 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C7
SYMATTR Value 5p
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanCap 1856 -2816 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C8
SYMATTR Value 50p
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 1872 -2768 M90
WINDOW 0 25 77 VBottom 2
WINDOW 3 6 38 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 2016 -2736 M0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 1872 -2800 M90
WINDOW 0 25 76 VBottom 2
WINDOW 3 6 38 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL Misc\\EuropeanCap 16 -2368 R0
SYMATTR InstName C9
SYMATTR Value 100µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 1664 -2224 M0
SYMATTR InstName R27
SYMATTR Value 200
SYMBOL nmos 1152 -2688 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M3
SYMATTR Value IRF740
SYMBOL npn3 384 -2192 R0
SYMATTR InstName Q8
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 272 -2160 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 1984 -2096 M180
WINDOW 3 -32 63 Left 2
SYMATTR Value lm318
SYMATTR InstName U2
SYMBOL Misc\\EuropeanResistor 1808 -2032 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R30
SYMATTR Value 47
SYMBOL Misc\\EuropeanResistor 1920 -2032 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R31
SYMATTR Value 47k
SYMBOL npn3 816 -2144 R0
SYMATTR InstName Q9
SYMATTR Value 2N3904
SYMBOL diode 1264 -2608 R180
WINDOW 0 -24 65 Left 2
WINDOW 3 -90 34 Left 2
SYMATTR InstName D6
SYMATTR Value 1SR156-400
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL pnp2 816 -2240 M180
SYMATTR InstName Q10
SYMATTR Value 2N3906
SYMBOL voltage -208 -2960 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize1
SYMATTR Value PULSE(0 4.8 0 {digital_trantime} {digital_trantime} {mosfet_gate_energized_time} {period} 1000)
SYMATTR SpiceLine Rser=0
SYMBOL npn3 112 -2240 R0
SYMATTR InstName Q11
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 0 -2208 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 1k
SYMBOL pnp2 576 -2160 M180
SYMATTR InstName Q12
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 624 -2304 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R34
SYMATTR Value 1k
SYMBOL Misc\\EuropeanResistor 464 -2224 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R35
SYMATTR Value 470
SYMBOL Misc\\EuropeanCap 560 -2400 R0
SYMATTR InstName C10
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 224 -1968 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R36
SYMATTR Value 1k
SYMBOL Misc\\EuropeanCap 160 -2064 R0
SYMATTR InstName C11
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 816 -2080 M270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R37
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 704 -2304 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R38
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 160 -2304 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R39
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 432 -2304 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R40
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 624 -1968 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R41
SYMATTR Value 10k
SYMBOL ind2 1488 -2768 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 250µH
SYMATTR SpiceLine Rser=.4 Cpar=20p
SYMATTR Type ind
SYMBOL Misc\\EuropeanResistor 2096 -2144 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 4k7
SYMBOL Misc\\EuropeanResistor 2192 -2048 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R5
SYMATTR Value 2k2
SYMBOL schottky 2224 -2176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL ind2 1536 -2224 R0
SYMATTR InstName L2
SYMATTR Value 250µH
SYMATTR SpiceLine Rser=.4 Cpar=220p
SYMATTR Type ind
SYMBOL nmos 1152 -2912 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M1
SYMATTR Value IRF740
SYMBOL diode 1264 -2832 R180
WINDOW 0 -24 65 Left 2
WINDOW 3 -90 34 Left 2
SYMATTR InstName D4
SYMATTR Value 1SR156-400
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL Misc\\EuropeanCap 16 -2976 R0
SYMATTR InstName C3
SYMATTR Value 100µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL nmos 1696 -2688 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M2
SYMATTR Value IRF740
SYMBOL npn3 384 -2800 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 272 -2768 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL npn3 816 -2752 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL diode 1584 -2608 M180
WINDOW 0 -24 65 Left 2
WINDOW 3 -90 34 Left 2
SYMATTR InstName D5
SYMATTR Value 1SR156-400
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL pnp2 816 -2848 M180
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 944 -2560 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R8
SYMATTR Value 20Meg
SYMBOL npn3 112 -2848 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 0 -2816 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL pnp2 576 -2768 M180
SYMATTR InstName Q5
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 624 -2912 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL Misc\\EuropeanResistor 464 -2832 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 470
SYMBOL Misc\\EuropeanCap 560 -3008 R0
SYMATTR InstName C5
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 224 -2576 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL Misc\\EuropeanCap 160 -2672 R0
SYMATTR InstName C6
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 816 -2688 M270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 704 -2912 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 160 -2912 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 432 -2912 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 624 -2576 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL nmos 1696 -2912 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M4
SYMATTR Value IRF740
SYMBOL diode 1584 -2832 M180
WINDOW 0 -24 65 Left 2
WINDOW 3 -90 34 Left 2
SYMATTR InstName D8
SYMATTR Value 1SR156-400
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL Misc\\EuropeanCap 1344 -3008 R0
SYMATTR InstName C12
SYMATTR Value 4700µF
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL voltage -208 -2784 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize2
SYMATTR Value PULSE(0 4.8 {period/2-shootthru_prevent_delay} {digital_trantime} {digital_trantime} {mosfet_gate_energized_time} {period} 1000)
SYMATTR SpiceLine Rser=0
SYMBOL voltage -176 -2128 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize3
SYMATTR Value PULSE(0 4.8 {period-shootthru_prevent_delay} {digital_trantime} {digital_trantime} {mosfet_gate_energized_time} {period} 1000)
SYMATTR SpiceLine Rser=0
SYMBOL voltage -176 -2352 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize4
SYMATTR Value PULSE(0 4.8 {period/2} {digital_trantime} {digital_trantime} {mosfet_gate_energized_time} {period} 1000)
SYMATTR SpiceLine Rser=0
SYMBOL Misc\\EuropeanResistor 944 -1952 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R6
SYMATTR Value 20Meg
TEXT 1288 -1984 Left 2 !.tran 0 0.007 .001
TEXT 1320 -1960 Left 2 !.lib NE5532.sub
TEXT 1312 -1928 Left 2 !.lib LM318.sub
TEXT 1848 -2768 Left 2 ;coax
TEXT 1064 -2088 Left 2 !K1 L1 L2 0.0001
TEXT -328 -2568 Left 2 !.param period                              = 2e-3\n.param digital_trantime                 = 1e-9\n.param mosfet_gate_pulse_time  = 1e-6\n.param shootthru_prevent_delay =1e-7\n.param mosfet_gate_energized_time=mosfet_gate_pulse_time+shootthru_prevent_delay*2
