Version 4
SHEET 1 6068 1612
WIRE 2768 -3072 2656 -3072
WIRE 2816 -3072 2768 -3072
WIRE 2896 -3072 2880 -3072
WIRE 3232 -3072 3024 -3072
WIRE 2896 -3056 2896 -3072
WIRE 2288 -2992 2272 -2992
WIRE 2768 -2992 2768 -3072
WIRE 3088 -2976 3088 -3024
WIRE 3104 -2976 3088 -2976
WIRE 3168 -2976 3168 -3024
WIRE 3168 -2976 3152 -2976
WIRE 3280 -2976 3280 -3024
WIRE 3296 -2976 3280 -2976
WIRE 3360 -2976 3360 -3024
WIRE 3360 -2976 3344 -2976
WIRE 2288 -2960 2112 -2960
WIRE 2528 -2960 2496 -2960
WIRE 2608 -2960 2528 -2960
WIRE 3168 -2960 3168 -2976
WIRE 3360 -2960 3360 -2976
WIRE 2528 -2944 2528 -2960
WIRE 2608 -2944 2608 -2960
WIRE 2832 -2928 2816 -2928
WIRE 2944 -2928 2896 -2928
WIRE 3024 -2928 3024 -3072
WIRE 3024 -2928 2944 -2928
WIRE 3088 -2928 3024 -2928
WIRE 3184 -2928 3168 -2928
WIRE 3232 -2928 3232 -3072
WIRE 3280 -2928 3232 -2928
WIRE 3376 -2928 3360 -2928
WIRE 2528 -2864 2528 -2880
WIRE 2528 -2864 2496 -2864
WIRE 2768 -2864 2768 -2912
WIRE 2768 -2864 2528 -2864
WIRE 2816 -2864 2816 -2928
WIRE 2944 -2864 2944 -2928
WIRE 3184 -2864 3184 -2928
WIRE 3376 -2864 3376 -2928
WIRE 2256 -2832 2240 -2832
WIRE 2288 -2832 2256 -2832
WIRE 2528 -2832 2496 -2832
WIRE 2608 -2832 2608 -2880
WIRE 2608 -2832 2528 -2832
WIRE 2528 -2816 2528 -2832
WIRE 2256 -2800 2256 -2832
WIRE 2768 -2784 2768 -2864
WIRE 2816 -2752 2816 -2784
WIRE 2944 -2752 2944 -2800
WIRE 2944 -2752 2816 -2752
WIRE 3184 -2752 3184 -2784
WIRE 3184 -2752 2944 -2752
WIRE 3376 -2752 3376 -2784
WIRE 3376 -2752 3184 -2752
WIRE 2528 -2736 2528 -2752
WIRE 2528 -2736 2496 -2736
WIRE 2816 -2736 2816 -2752
WIRE 2528 -2720 2528 -2736
WIRE 2256 -2704 2256 -2736
WIRE 2288 -2704 2256 -2704
WIRE 2624 -2704 2496 -2704
WIRE 2720 -2704 2704 -2704
WIRE 2256 -2688 2256 -2704
WIRE 2768 -2672 2768 -2688
WIRE 2288 -2576 2144 -2576
WIRE 2560 -2576 2288 -2576
WIRE 2688 -2576 2560 -2576
WIRE 2752 -2576 2688 -2576
WIRE 2928 -2576 2752 -2576
WIRE 2992 -2576 2928 -2576
WIRE 2928 -2560 2928 -2576
WIRE 2992 -2560 2992 -2576
WIRE 3248 -2560 3136 -2560
WIRE 3296 -2560 3248 -2560
WIRE 3376 -2560 3360 -2560
WIRE 3712 -2560 3504 -2560
WIRE 3376 -2544 3376 -2560
WIRE 2288 -2496 2288 -2576
WIRE 2560 -2496 2560 -2576
WIRE 2688 -2496 2688 -2576
WIRE 2752 -2496 2752 -2576
WIRE 3248 -2480 3248 -2560
WIRE 2144 -2464 2144 -2576
WIRE 2928 -2464 2928 -2496
WIRE 2992 -2464 2992 -2480
WIRE 2992 -2464 2928 -2464
WIRE 3568 -2464 3568 -2512
WIRE 3584 -2464 3568 -2464
WIRE 3648 -2464 3648 -2512
WIRE 3648 -2464 3632 -2464
WIRE 3760 -2464 3760 -2512
WIRE 3776 -2464 3760 -2464
WIRE 3840 -2464 3840 -2512
WIRE 3840 -2464 3824 -2464
WIRE 2000 -2448 2000 -2464
WIRE 3648 -2448 3648 -2464
WIRE 3840 -2448 3840 -2464
WIRE 2992 -2432 2992 -2464
WIRE 3312 -2416 3296 -2416
WIRE 3424 -2416 3376 -2416
WIRE 3504 -2416 3504 -2560
WIRE 3504 -2416 3424 -2416
WIRE 3568 -2416 3504 -2416
WIRE 3664 -2416 3648 -2416
WIRE 3712 -2416 3712 -2560
WIRE 3760 -2416 3712 -2416
WIRE 3856 -2416 3840 -2416
WIRE 2688 -2400 2688 -2432
WIRE 2752 -2400 2752 -2416
WIRE 2752 -2400 2688 -2400
WIRE 2288 -2384 2288 -2416
WIRE 2832 -2384 2288 -2384
WIRE 2928 -2384 2912 -2384
WIRE 3248 -2368 3248 -2400
WIRE 2752 -2352 2752 -2400
WIRE 3296 -2352 3296 -2416
WIRE 3424 -2352 3424 -2416
WIRE 3664 -2352 3664 -2416
WIRE 3856 -2352 3856 -2416
WIRE 2288 -2336 2288 -2384
WIRE 2560 -2304 2560 -2416
WIRE 2592 -2304 2560 -2304
WIRE 2688 -2304 2672 -2304
WIRE 2224 -2288 2208 -2288
WIRE 2560 -2288 2560 -2304
WIRE 2992 -2288 2992 -2336
WIRE 3200 -2288 2992 -2288
WIRE 2496 -2240 2480 -2240
WIRE 2992 -2240 2992 -2288
WIRE 3248 -2240 3248 -2272
WIRE 3296 -2240 3296 -2272
WIRE 3296 -2240 3248 -2240
WIRE 3424 -2240 3424 -2288
WIRE 3424 -2240 3296 -2240
WIRE 3664 -2240 3664 -2272
WIRE 3664 -2240 3424 -2240
WIRE 3856 -2240 3856 -2272
WIRE 3856 -2240 3664 -2240
WIRE 3248 -2224 3248 -2240
WIRE 2752 -2192 2752 -2256
WIRE 2832 -2192 2752 -2192
WIRE 2928 -2192 2912 -2192
WIRE 2192 -2176 2192 -2192
WIRE 2288 -2176 2288 -2240
WIRE 2352 -2176 2288 -2176
WIRE 2288 -2160 2288 -2176
WIRE 2352 -2160 2352 -2176
WIRE 2752 -2160 2752 -2192
WIRE 2560 -2112 2560 -2192
WIRE 2624 -2112 2560 -2112
WIRE 2992 -2112 2992 -2144
WIRE 2992 -2112 2928 -2112
WIRE 2560 -2096 2560 -2112
WIRE 2624 -2096 2624 -2112
WIRE 2928 -2096 2928 -2112
WIRE 2992 -2096 2992 -2112
WIRE 2288 -2000 2288 -2096
WIRE 2352 -2000 2352 -2080
WIRE 2352 -2000 2288 -2000
WIRE 2560 -2000 2560 -2032
WIRE 2560 -2000 2352 -2000
WIRE 2624 -2000 2624 -2016
WIRE 2624 -2000 2560 -2000
WIRE 2752 -2000 2752 -2080
WIRE 2752 -2000 2624 -2000
WIRE 2928 -2000 2928 -2032
WIRE 2928 -2000 2752 -2000
WIRE 2992 -2000 2992 -2016
WIRE 2992 -2000 2928 -2000
WIRE 2288 -1984 2288 -2000
FLAG 3248 -2224 0
FLAG 3376 -2544 0
FLAG 3136 -2560 +
IOPIN 3136 -2560 BiDir
FLAG 2144 -2400 -
IOPIN 2144 -2400 BiDir
FLAG 2400 -2160 0
FLAG 2128 -2208 0
FLAG 2144 -2576 +20
IOPIN 2144 -2576 BiDir
FLAG 2288 -1984 0
FLAG 2192 -2192 +
IOPIN 2192 -2192 BiDir
FLAG 2192 -2016 0
FLAG 2000 -2464 +20
IOPIN 2000 -2464 BiDir
FLAG 2000 -2288 0
FLAG 3648 -2448 0
FLAG 3840 -2448 0
FLAG 2816 -2736 0
FLAG 2896 -3056 0
FLAG 2656 -3072 +
IOPIN 2656 -3072 BiDir
FLAG 2112 -2880 0
FLAG 3168 -2960 0
FLAG 3360 -2960 0
FLAG 2528 -2720 0
FLAG 2256 -2688 0
FLAG 2240 -2832 VDD_logic
IOPIN 2240 -2832 BiDir
FLAG 2768 -2672 0
FLAG 2272 -2992 0
FLAG 2608 -2832 +20
IOPIN 2608 -2832 BiDir
FLAG 2112 -2672 0
FLAG 2112 -2752 VDD_logic
IOPIN 2112 -2752 BiDir
SYMBOL ind2 3280 -2256 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value {sec_I}
SYMATTR SpiceLine Rser=.42
SYMATTR Type ind
SYMBOL diode 3312 -2400 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value RFUH60TS6D
SYMBOL Misc\\EuropeanCap 3408 -2352 R0
SYMATTR InstName C4
SYMATTR Value 60µ
SYMBOL Misc\\EuropeanResistor 3872 -2368 M0
SYMATTR InstName R4
SYMATTR Value 400
SYMBOL nmos 3200 -2368 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M6
SYMATTR Value IRF740
SYMBOL ind2 3264 -2384 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value {pri_I}
SYMATTR SpiceLine Rser=.0003
SYMATTR Type ind
SYMBOL Misc\\EuropeanCap 3360 -2576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 3900µ
SYMATTR SpiceLine Rser=.005
SYMBOL Misc\\EuropeanCap 2912 -2560 R0
SYMATTR InstName C6
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 2976 -2464 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R8
SYMATTR Value 220
SYMBOL Misc\\EuropeanCap 2128 -2464 R0
SYMATTR InstName C8
SYMATTR Value 100µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL npn3 2496 -2288 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 2384 -2256 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL npn3 2928 -2240 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL pnp2 2928 -2336 M180
SYMATTR InstName Q5
SYMATTR Value 2N3906
SYMBOL npn3 2224 -2336 R0
SYMATTR InstName Q6
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 2112 -2304 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL pnp2 2688 -2256 M180
SYMATTR InstName Q7
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 2736 -2400 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R13
SYMATTR Value 220
SYMBOL Misc\\EuropeanResistor 2576 -2320 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 470
SYMBOL Misc\\EuropeanCap 2672 -2496 R0
SYMATTR InstName C9
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 2336 -2064 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R15
SYMATTR Value 220
SYMBOL Misc\\EuropeanCap 2272 -2160 R0
SYMATTR InstName C10
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 2928 -2176 M270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R16
SYMATTR Value 220
SYMBOL Misc\\EuropeanResistor 2816 -2400 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 220
SYMBOL Misc\\EuropeanResistor 2272 -2400 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R18
SYMATTR Value 47
SYMBOL Misc\\EuropeanResistor 2544 -2400 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R19
SYMATTR Value 47
SYMBOL Misc\\EuropeanResistor 2736 -2064 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R20
SYMATTR Value 47
SYMBOL Misc\\EuropeanCap 2912 -2096 R0
SYMATTR InstName C7
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 2976 -2000 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R21
SYMATTR Value 220
SYMBOL voltage 2128 -2304 M0
WINDOW 0 -42 58 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName sigma_delta1
SYMATTR Value PULSE(0 5 0 10n 10n {t_switch_time} {1/freq})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 2400 -2256 M0
WINDOW 0 -42 58 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName sigma_delta2
SYMATTR Value PULSE(0 5 {pulse_width} 10n 10n {t_switch_time} {1/freq})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 2192 -2112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 36 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL Misc\\EuropeanResistor 2176 -2080 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R1
SYMATTR Value .1
SYMBOL Misc\\EuropeanResistor 2608 -2000 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R3
SYMATTR Value 220
SYMBOL Misc\\EuropeanCap 2544 -2096 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL voltage 2000 -2384 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 36 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V2
SYMATTR Value 20
SYMBOL Misc\\EuropeanResistor 1984 -2352 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R5
SYMATTR Value .1
SYMBOL sw 3664 -2416 R90
WINDOW 0 71 33 VRight 2
WINDOW 38 46 22 VRight 2
SYMATTR InstName S1
SYMATTR SpiceModel SWI
SYMATTR Value ""
SYMBOL voltage 3664 -2368 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 36 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V3
SYMATTR Value 400
SYMBOL voltage 3552 -2512 R270
WINDOW 0 32 8 VRight 2
WINDOW 3 -39 -166 VRight 2
WINDOW 123 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 400 0 0 0 1n 1 1)
SYMATTR SpiceLine Rser=0
SYMBOL sw 3856 -2416 R90
WINDOW 0 71 33 VRight 2
WINDOW 38 46 22 VRight 2
SYMATTR InstName S2
SYMATTR SpiceModel SWI
SYMATTR Value ""
SYMBOL voltage 3744 -2512 R270
WINDOW 0 32 8 VRight 2
WINDOW 3 -39 -166 VRight 2
WINDOW 123 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value PULSE(0 400 0 0 0 1u 500u)
SYMATTR SpiceLine Rser=0
SYMBOL ind2 2800 -2768 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value {sec_I}
SYMATTR SpiceLine Rser=.42
SYMATTR Type ind
SYMBOL diode 2832 -2912 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value RFUH60TS6D
SYMBOL Misc\\EuropeanCap 2928 -2864 R0
SYMATTR InstName C2
SYMATTR Value 60µ
SYMBOL Misc\\EuropeanResistor 3392 -2880 M0
SYMATTR InstName R2
SYMATTR Value 400
SYMBOL ind2 2784 -2896 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value {pri_I}
SYMATTR SpiceLine Rser=.0003
SYMATTR Type ind
SYMBOL Misc\\EuropeanCap 2880 -3088 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 3900µ
SYMATTR SpiceLine Rser=.005
SYMBOL voltage 2112 -2976 M0
WINDOW 0 -42 58 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName sigma_delta3
SYMATTR Value PULSE(0 5 0 10n 10n {t_switch_time} {1/freq})
SYMATTR SpiceLine Rser=0
SYMBOL sw 3184 -2928 R90
WINDOW 0 71 33 VRight 2
WINDOW 38 46 22 VRight 2
SYMATTR InstName S3
SYMATTR SpiceModel SWI
SYMATTR Value ""
SYMBOL voltage 3184 -2880 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 36 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V8
SYMATTR Value 400
SYMBOL voltage 3072 -3024 R270
WINDOW 0 32 8 VRight 2
WINDOW 3 -39 -166 VRight 2
WINDOW 123 0 0 Left 2
SYMATTR InstName V9
SYMATTR Value PULSE(0 400 0 0 0 1n 1 1)
SYMATTR SpiceLine Rser=0
SYMBOL sw 3376 -2928 R90
WINDOW 0 71 33 VRight 2
WINDOW 38 46 22 VRight 2
SYMATTR InstName S4
SYMATTR SpiceModel SWI
SYMATTR Value ""
SYMBOL voltage 3264 -3024 R270
WINDOW 0 32 8 VRight 2
WINDOW 3 -39 -166 VRight 2
WINDOW 123 0 0 Left 2
SYMATTR InstName V10
SYMATTR Value PULSE(0 400 0 0 0 1u 500u)
SYMATTR SpiceLine Rser=0
SYMBOL Misc\\EuropeanCap 2512 -2944 R0
SYMATTR InstName C17
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL schottky 2624 -2880 R180
WINDOW 0 -29 68 Left 2
WINDOW 3 -106 -4 Invisible 2
SYMATTR InstName D2
SYMATTR Value MURS120
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL IR2110 2384 -2848 R0
WINDOW 0 16 -157 Center 2
SYMATTR InstName U1
SYMBOL Misc\\EuropeanCap 2512 -2816 R0
SYMATTR InstName C18
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL Misc\\EuropeanCap 2272 -2800 M0
SYMATTR InstName C19
SYMATTR Value 10µ
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL Misc\\EuropeanResistor 2608 -2720 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 10
SYMBOL nmos 2720 -2784 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M3
SYMATTR Value IRFH5220
SYMBOL voltage 2112 -2768 R0
WINDOW 39 0 0 Left 2
WINDOW 0 24 16 Invisible 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName V7
SYMATTR Value 5
TEXT 3144 -2184 Left 2 !;.step param freq 10k,100k,10k\n.param freq             =10k\n \n;.step param pulse_width = 50n,500n,50n\n.param pulse_width = 1100n\n \n.param t_switch_time = 50n\n \n.param pri_I 40uH\n.param sec_I 60mH
TEXT 3272 -2464 Left 2 !K2 L1 L5 1.0
TEXT 2056 -1968 Left 2 !.tran .1
TEXT 3264 -2504 Left 2 !.model SWI SW(Ron=1n Roff=1000G Vt=0.5 Vh=.4)
TEXT 2792 -2976 Left 2 !K3 L3 L2 1.0
TEXT 2784 -3016 Left 2 !.model SWI SW(Ron=1n Roff=1000G Vt=0.5 Vh=.4)
