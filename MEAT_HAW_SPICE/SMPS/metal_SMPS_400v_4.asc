Version 4
SHEET 1 6068 1612
WIRE 2640 -2560 2624 -2560
WIRE 2784 -2560 2640 -2560
WIRE 2848 -2560 2784 -2560
WIRE 2960 -2560 2928 -2560
WIRE 3024 -2560 2960 -2560
WIRE 3088 -2560 3024 -2560
WIRE 3248 -2560 3216 -2560
WIRE 3296 -2560 3248 -2560
WIRE 3376 -2560 3360 -2560
WIRE 3024 -2544 3024 -2560
WIRE 3088 -2544 3088 -2560
WIRE 3376 -2544 3376 -2560
WIRE 2784 -2496 2784 -2560
WIRE 3248 -2480 3248 -2560
WIRE 2640 -2464 2640 -2560
WIRE 3024 -2448 3024 -2480
WIRE 3088 -2448 3088 -2464
WIRE 3088 -2448 3024 -2448
WIRE 3088 -2432 3088 -2448
WIRE 3312 -2416 3296 -2416
WIRE 3424 -2416 3376 -2416
WIRE 3520 -2416 3424 -2416
WIRE 2784 -2384 2784 -2416
WIRE 3024 -2384 2784 -2384
WIRE 3248 -2368 3248 -2400
WIRE 3296 -2352 3296 -2416
WIRE 3424 -2352 3424 -2416
WIRE 3520 -2352 3520 -2416
WIRE 2784 -2336 2784 -2384
WIRE 2720 -2288 2704 -2288
WIRE 3088 -2288 3088 -2336
WIRE 3200 -2288 3088 -2288
WIRE 3088 -2240 3088 -2288
WIRE 3248 -2240 3248 -2272
WIRE 3296 -2240 3296 -2272
WIRE 3296 -2240 3248 -2240
WIRE 3424 -2240 3424 -2288
WIRE 3424 -2240 3296 -2240
WIRE 3520 -2240 3520 -2272
WIRE 3520 -2240 3424 -2240
WIRE 3248 -2224 3248 -2240
WIRE 2704 -2192 2704 -2208
WIRE 2784 -2192 2784 -2240
WIRE 2848 -2192 2784 -2192
WIRE 2784 -2176 2784 -2192
WIRE 2848 -2160 2848 -2192
WIRE 2784 -2048 2784 -2112
WIRE 2848 -2048 2848 -2080
WIRE 2848 -2048 2784 -2048
WIRE 3056 -2048 2848 -2048
WIRE 3088 -2048 3088 -2160
WIRE 3088 -2048 3056 -2048
WIRE 3056 -2016 3056 -2048
FLAG 3248 -2224 0
FLAG 2704 -2208 +
IOPIN 2704 -2208 BiDir
FLAG 2704 -2032 0
FLAG 2640 -2400 -
IOPIN 2640 -2400 BiDir
FLAG 2624 -2560 +
IOPIN 2624 -2560 BiDir
FLAG 3056 -2016 0
FLAG 3376 -2544 0
FLAG 3136 -2560 +
IOPIN 3136 -2560 BiDir
FLAG 2624 -2208 0
FLAG 2960 -2496 -
IOPIN 2960 -2496 BiDir
SYMBOL ind2 3280 -2256 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value {sec_I}
SYMATTR SpiceLine Rser=.42
SYMATTR Type ind
SYMBOL diode 3312 -2400 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value RFUH60TS6D
SYMBOL Misc\\EuropeanCap 3408 -2352 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL Misc\\EuropeanResistor 3536 -2368 M0
SYMATTR InstName R4
SYMATTR Value 160k
SYMBOL nmos 3200 -2368 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M6
SYMATTR Value IRF740
SYMBOL ind2 3264 -2384 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value {pri_I}
SYMATTR SpiceLine Rser=.0003
SYMATTR Type ind
SYMBOL voltage 2704 -2128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 36 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL Misc\\EuropeanCap 2624 -2464 R0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL pnp2 3024 -2336 M180
WINDOW 0 40 48 Left 2
WINDOW 3 62 24 Left 2
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL npn3 2720 -2336 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 2608 -2304 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL Misc\\EuropeanResistor 2768 -2400 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R10
SYMATTR Value 47
SYMBOL voltage 2624 -2304 M0
WINDOW 0 -42 58 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName sigma_delta
SYMATTR Value PULSE(0 5 0 10n 10n {pulse_width} {1/freq})
SYMATTR SpiceLine Rser=0
SYMBOL Misc\\EuropeanCap 3360 -2576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 3900µ
SYMATTR SpiceLine Rser=.005
SYMBOL Misc\\EuropeanResistor 3120 -2576 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL Misc\\EuropeanResistor 2720 -2208 M0
SYMATTR InstName R5
SYMATTR Value .01
SYMBOL Misc\\EuropeanResistor 2832 -2576 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1
SYMBOL Misc\\EuropeanCap 2944 -2560 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanCap 2768 -2176 R0
SYMATTR InstName C3
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 2832 -2064 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R7
SYMATTR Value 220
SYMBOL Misc\\EuropeanResistor 3072 -2144 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R1
SYMATTR Value 47
SYMBOL Misc\\EuropeanCap 3008 -2544 R0
SYMATTR InstName C6
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 3072 -2448 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R8
SYMATTR Value 220
TEXT 3144 -2184 Left 2 !;.step param freq 10k,100k,10k\n.param freq             =100k\n;.step param pulse_width = 20n,200n,20n\n.param pulse_width = 300n\n \n.param pri_I 40uH\n.param sec_I 60mH
TEXT 2928 -2312 Left 2 !.lib NE5532.sub
TEXT 2928 -2264 Left 2 !.lib LM318.sub
TEXT 2928 -2288 Left 2 !.include ir2110.sub
TEXT 2976 -2008 Left 2 !.tran .006
TEXT 3272 -2464 Left 2 !K2 L1 L5 1.0
