Version 4
SHEET 1 6068 1612
WIRE 3792 -2688 3680 -2688
WIRE 3808 -2688 3792 -2688
WIRE 3792 -2672 3792 -2688
WIRE 3552 -2640 3344 -2640
WIRE 3600 -2640 3552 -2640
WIRE 3344 -2608 3344 -2640
WIRE 3552 -2608 3552 -2640
WIRE 3792 -2576 3792 -2592
WIRE 4208 -2544 4192 -2544
WIRE 4320 -2544 4272 -2544
WIRE 4432 -2544 4320 -2544
WIRE 4528 -2544 4432 -2544
WIRE 2880 -2528 2848 -2528
WIRE 3216 -2528 3088 -2528
WIRE 3808 -2528 3680 -2528
WIRE 4048 -2528 4016 -2528
WIRE 2880 -2496 2848 -2496
WIRE 3120 -2496 3088 -2496
WIRE 3184 -2496 3120 -2496
WIRE 3776 -2496 3712 -2496
WIRE 3808 -2496 3776 -2496
WIRE 4048 -2496 4016 -2496
WIRE 4192 -2496 4192 -2544
WIRE 4208 -2496 4192 -2496
WIRE 4288 -2496 4272 -2496
WIRE 3120 -2480 3120 -2496
WIRE 3184 -2480 3184 -2496
WIRE 3712 -2480 3712 -2496
WIRE 3776 -2480 3776 -2496
WIRE 4192 -2464 4192 -2496
WIRE 4432 -2464 4432 -2544
WIRE 4528 -2464 4528 -2544
WIRE 3120 -2400 3120 -2416
WIRE 3120 -2400 3088 -2400
WIRE 3344 -2400 3344 -2512
WIRE 3344 -2400 3120 -2400
WIRE 3408 -2400 3344 -2400
WIRE 3552 -2400 3552 -2512
WIRE 3552 -2400 3488 -2400
WIRE 3776 -2400 3776 -2416
WIRE 3776 -2400 3552 -2400
WIRE 3808 -2400 3776 -2400
WIRE 2848 -2368 2848 -2384
WIRE 2880 -2368 2848 -2368
WIRE 3184 -2368 3184 -2416
WIRE 3184 -2368 3088 -2368
WIRE 3712 -2368 3712 -2416
WIRE 3808 -2368 3712 -2368
WIRE 4048 -2368 4048 -2384
WIRE 4048 -2368 4016 -2368
WIRE 3344 -2320 3344 -2400
WIRE 3552 -2320 3552 -2400
WIRE 4192 -2320 4192 -2384
WIRE 4208 -2320 4192 -2320
WIRE 4288 -2320 4288 -2496
WIRE 4288 -2320 4272 -2320
WIRE 4432 -2320 4432 -2400
WIRE 4432 -2320 4288 -2320
WIRE 4528 -2320 4528 -2384
WIRE 4528 -2320 4432 -2320
WIRE 4432 -2288 4432 -2320
WIRE 3120 -2272 3088 -2272
WIRE 3808 -2272 3776 -2272
WIRE 3120 -2256 3120 -2272
WIRE 3776 -2256 3776 -2272
WIRE 4192 -2256 4192 -2320
WIRE 4208 -2256 4192 -2256
WIRE 4320 -2256 4320 -2544
WIRE 4320 -2256 4272 -2256
WIRE 2880 -2240 2848 -2240
WIRE 3200 -2240 3088 -2240
WIRE 3296 -2240 3280 -2240
WIRE 3616 -2240 3600 -2240
WIRE 3808 -2240 3696 -2240
WIRE 4048 -2240 4016 -2240
WIRE 2848 -2224 2848 -2240
WIRE 4048 -2224 4048 -2240
WIRE 3344 -2192 3344 -2224
WIRE 3552 -2192 3552 -2224
WIRE 3552 -2192 3344 -2192
WIRE 3344 -2160 3344 -2192
FLAG 4432 -2288 0
FLAG 3072 -2608 lo
IOPIN 3072 -2608 BiDir
FLAG 3216 -2608 hi
IOPIN 3216 -2608 BiDir
FLAG 3344 -2160 0
FLAG 3680 -2688 VCC_mosfet_drive
IOPIN 3680 -2688 BiDir
FLAG 2848 -2528 hi
IOPIN 2848 -2528 BiDir
FLAG 2848 -2496 lo
IOPIN 2848 -2496 BiDir
FLAG 3136 -2608 0
FLAG 2992 -2608 0
FLAG 3392 -2208 0
FLAG 3392 -2288 VDD_logic
IOPIN 3392 -2288 BiDir
FLAG 4048 -2496 hi
IOPIN 4048 -2496 BiDir
FLAG 4048 -2528 lo
IOPIN 4048 -2528 BiDir
FLAG 3600 -2640 +
IOPIN 3600 -2640 BiDir
FLAG 3808 -2688 +
IOPIN 3808 -2688 BiDir
FLAG 3712 -2368 VCC_mosfet_drive
IOPIN 3712 -2368 BiDir
FLAG 3792 -2576 0
FLAG 4048 -2224 0
FLAG 4048 -2384 VDD_logic
IOPIN 4048 -2384 BiDir
FLAG 3184 -2368 VCC_mosfet_drive
IOPIN 3184 -2368 BiDir
FLAG 2848 -2224 0
FLAG 2848 -2384 VDD_logic
IOPIN 2848 -2384 BiDir
FLAG 3776 -2256 0
FLAG 3120 -2256 0
SYMBOL ind2 4208 -2368 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value {sec_I}
SYMATTR SpiceLine Rser=.42
SYMATTR Type ind
SYMBOL diode 4208 -2528 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value RFN5TF8S
SYMBOL Misc\\EuropeanCap 4416 -2464 R0
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL Misc\\EuropeanResistor 4544 -2480 M0
SYMATTR InstName R4
SYMATTR Value 160k
SYMBOL voltage 3088 -2608 M270
WINDOW 0 -17 132 VLeft 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName 2
SYMATTR Value PULSE(0 5 {lo_delay} {TT} {TT} {on_width} {period})
SYMATTR SpiceLine Rser=0
SYMBOL nmos 3296 -2320 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M5
SYMATTR Value IRF740
SYMBOL nmos 3296 -2608 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M6
SYMATTR Value IRF740
SYMBOL ind2 3504 -2416 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value {pri_I}
SYMATTR SpiceLine Rser=.0003
SYMATTR Type ind
SYMBOL Misc\\EuropeanResistor 3200 -2544 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 33
SYMBOL Misc\\EuropeanResistor 3184 -2256 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 33
SYMBOL voltage 3232 -2608 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName 1
SYMATTR Value PULSE(0 5 {hi_delay} {TT} {TT} {on_width} {period})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 3392 -2304 R0
WINDOW 123 0 0 Left 2
SYMATTR SpiceLine Rser=20
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage 3792 -2688 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 36 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL nmos 3600 -2320 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M1
SYMATTR Value IRF740
SYMBOL nmos 3600 -2608 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M2
SYMATTR Value IRF740
SYMBOL Misc\\EuropeanResistor 3696 -2544 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 33
SYMBOL Misc\\EuropeanResistor 3712 -2256 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 33
SYMBOL diode 4272 -2480 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value RFN5TF8S
SYMBOL diode 4208 -2240 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value RFN5TF8S
SYMBOL diode 4272 -2304 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value RFN5TF8S
SYMBOL Misc\\EuropeanCap 3792 -2480 M0
SYMATTR InstName C8
SYMATTR Value 100n
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL schottky 3696 -2416 M180
WINDOW 0 -29 68 Left 2
WINDOW 3 -106 -4 Invisible 2
SYMATTR InstName D7
SYMATTR Value MURS120
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL IR2110 3920 -2384 M0
WINDOW 0 16 -157 Center 2
SYMATTR InstName U3
SYMBOL Misc\\EuropeanCap 3104 -2480 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL schottky 3200 -2416 R180
WINDOW 0 -29 68 Left 2
WINDOW 3 -106 -4 Invisible 2
SYMATTR InstName D1
SYMATTR Value MURS120
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL IR2110 2976 -2384 R0
WINDOW 0 16 -157 Center 2
SYMATTR InstName U1
TEXT 2392 -2560 Left 2 !;.param duty      =10\n.step param duty 5,95,5\n;.step param freq 25k 125k 50k\n.param freq=200k\n.param period              = 1/freq\n.param TT                   = 10n\n.param Xcond_delay   =19n\n.param on_width          = period/2*duty/100-Xcond_delay*2\n.param lo_delay           =Xcond_delay\n.param hi_delay           =period/2 + Xcond_delay\n \n;.step param pri_I list 2uH 5uH 10uH 20uH 40uH 100uH 200uH\n.param pri_I 40uH\n.param sec_I 40mH
TEXT 2848 -2600 Left 2 !.lib NE5532.sub
TEXT 2848 -2576 Left 2 !.lib LM318.sub
TEXT 2848 -2624 Left 2 !.include ir2110.sub
TEXT 3408 -2528 Left 2 !K2 L1 L5 1.0
TEXT 2880 -2656 Left 2 !.tran .0002
TEXT 4048 -2600 Right 2 !.lib NE5532.sub
TEXT 4048 -2576 Right 2 !.lib LM318.sub
TEXT 4048 -2624 Right 2 !.include ir2110.sub
