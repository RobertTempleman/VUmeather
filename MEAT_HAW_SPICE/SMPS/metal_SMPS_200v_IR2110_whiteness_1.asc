Version 4
SHEET 1 6068 1612
WIRE 3280 -2992 3264 -2992
WIRE 3392 -2992 3344 -2992
WIRE 3504 -2992 3392 -2992
WIRE 3600 -2992 3504 -2992
WIRE 3072 -2960 3040 -2960
WIRE 3168 -2960 3136 -2960
WIRE 3040 -2944 3040 -2960
WIRE 3136 -2944 3136 -2960
WIRE 3264 -2944 3264 -2992
WIRE 3280 -2944 3264 -2944
WIRE 3360 -2944 3344 -2944
WIRE 3264 -2912 3264 -2944
WIRE 3504 -2912 3504 -2992
WIRE 3600 -2912 3600 -2992
WIRE 3264 -2768 3264 -2832
WIRE 3280 -2768 3264 -2768
WIRE 3360 -2768 3360 -2944
WIRE 3360 -2768 3344 -2768
WIRE 3504 -2768 3504 -2848
WIRE 3504 -2768 3360 -2768
WIRE 3600 -2768 3600 -2832
WIRE 3600 -2768 3504 -2768
WIRE 3504 -2736 3504 -2768
WIRE 3808 -2720 3792 -2720
WIRE 3264 -2704 3264 -2768
WIRE 3280 -2704 3264 -2704
WIRE 3392 -2704 3392 -2992
WIRE 3392 -2704 3344 -2704
WIRE 3792 -2704 3792 -2720
WIRE 3360 -2640 3296 -2640
WIRE 3536 -2640 3360 -2640
WIRE 3360 -2608 3360 -2640
WIRE 3536 -2608 3536 -2640
WIRE 3792 -2608 3792 -2624
WIRE 2816 -2528 2784 -2528
WIRE 3232 -2528 3024 -2528
WIRE 3872 -2528 3664 -2528
WIRE 4112 -2528 4080 -2528
WIRE 2816 -2496 2784 -2496
WIRE 3056 -2496 3024 -2496
WIRE 3136 -2496 3056 -2496
WIRE 3840 -2496 3760 -2496
WIRE 3872 -2496 3840 -2496
WIRE 4112 -2496 4080 -2496
WIRE 3056 -2480 3056 -2496
WIRE 3136 -2480 3136 -2496
WIRE 3360 -2480 3360 -2512
WIRE 3408 -2480 3360 -2480
WIRE 3536 -2480 3536 -2512
WIRE 3536 -2480 3488 -2480
WIRE 3760 -2480 3760 -2496
WIRE 3840 -2480 3840 -2496
WIRE 3056 -2400 3056 -2416
WIRE 3056 -2400 3024 -2400
WIRE 3360 -2400 3360 -2480
WIRE 3360 -2400 3056 -2400
WIRE 3536 -2400 3536 -2480
WIRE 3840 -2400 3840 -2416
WIRE 3840 -2400 3536 -2400
WIRE 3872 -2400 3840 -2400
WIRE 2752 -2368 2720 -2368
WIRE 2816 -2368 2752 -2368
WIRE 3056 -2368 3024 -2368
WIRE 3136 -2368 3136 -2416
WIRE 3136 -2368 3056 -2368
WIRE 3152 -2368 3136 -2368
WIRE 3760 -2368 3760 -2416
WIRE 3760 -2368 3744 -2368
WIRE 3840 -2368 3760 -2368
WIRE 3872 -2368 3840 -2368
WIRE 4144 -2368 4080 -2368
WIRE 4176 -2368 4144 -2368
WIRE 3056 -2352 3056 -2368
WIRE 3840 -2352 3840 -2368
WIRE 2752 -2336 2752 -2368
WIRE 4144 -2336 4144 -2368
WIRE 3360 -2320 3360 -2400
WIRE 3536 -2320 3536 -2400
WIRE 3056 -2272 3056 -2288
WIRE 3056 -2272 3024 -2272
WIRE 3840 -2272 3840 -2288
WIRE 3872 -2272 3840 -2272
WIRE 2752 -2240 2752 -2272
WIRE 2816 -2240 2752 -2240
WIRE 3216 -2240 3024 -2240
WIRE 3312 -2240 3296 -2240
WIRE 3600 -2240 3584 -2240
WIRE 3872 -2240 3680 -2240
WIRE 4144 -2240 4144 -2272
WIRE 4144 -2240 4080 -2240
WIRE 3056 -2192 3056 -2272
WIRE 3360 -2192 3360 -2224
WIRE 3360 -2192 3056 -2192
WIRE 3536 -2192 3536 -2224
WIRE 3536 -2192 3360 -2192
WIRE 3840 -2192 3840 -2272
WIRE 3840 -2192 3536 -2192
WIRE 2752 -2160 2752 -2240
WIRE 3360 -2160 3360 -2192
WIRE 4144 -2160 4144 -2240
FLAG 3504 -2736 0
FLAG 3136 -2864 -
IOPIN 3136 -2864 BiDir
FLAG 3168 -2960 lo
FLAG 3040 -2864 -
IOPIN 3040 -2864 BiDir
FLAG 3072 -2960 hi
FLAG 3808 -2720 +
IOPIN 3808 -2720 BiDir
FLAG 3792 -2608 0
FLAG 3360 -2160 0
FLAG 3152 -2368 VCC
FLAG 3696 -2608 0
FLAG 3696 -2688 VCC
FLAG 2752 -2160 0
FLAG 2720 -2368 +
IOPIN 2720 -2368 BiDir
FLAG 3296 -2640 +
IOPIN 3296 -2640 BiDir
FLAG 2784 -2528 hi
FLAG 2784 -2496 lo
FLAG 3744 -2368 VCC
FLAG 4144 -2160 0
FLAG 4176 -2368 +
IOPIN 4176 -2368 BiDir
FLAG 4112 -2528 lo
FLAG 4112 -2496 hi
SYMBOL ind2 3280 -2816 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value 20m
SYMATTR SpiceLine Rser=10
SYMATTR Type ind
SYMBOL diode 3280 -2976 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode 3344 -2928 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL diode 3344 -2752 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode 3280 -2688 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL Misc\\EuropeanCap 3488 -2912 R0
SYMATTR InstName C4
SYMATTR Value 50n
SYMBOL Misc\\EuropeanResistor 3616 -2928 M0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL voltage 3040 -2960 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize3
SYMATTR Value PULSE(0 4.8 {delay_2_on} {TT} {TT} {Ton} {period})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 3136 -2960 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize4
SYMATTR Value PULSE(0 4.8 {delay_2_off} {TT} {TT} {Ton} {period})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 3792 -2720 M0
WINDOW 123 0 0 Left 2
WINDOW 39 -61 27 Left 2
WINDOW 0 -54 49 Left 2
WINDOW 3 -9 55 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL nmos 3312 -2320 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M5
SYMATTR Value IRF740
SYMBOL nmos 3312 -2608 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M6
SYMATTR Value IRF740
SYMBOL Misc\\EuropeanCap 3040 -2480 R0
SYMATTR InstName C1
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL schottky 3152 -2416 R180
WINDOW 0 -29 68 Left 2
WINDOW 3 -106 -4 Left 2
SYMATTR InstName D1
SYMATTR Value MURS120
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 2736 -2336 R0
SYMATTR InstName C3
SYMATTR Value 10µf
SYMBOL IR2110 2912 -2384 R0
WINDOW 0 16 -157 Center 2
SYMATTR InstName U1
SYMBOL voltage 3696 -2704 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL ind2 3504 -2496 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 300µ
SYMATTR SpiceLine Rser=.001
SYMATTR Type ind
SYMBOL Misc\\EuropeanResistor 3216 -2544 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 33
SYMBOL Misc\\EuropeanResistor 3200 -2256 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 33
SYMBOL Misc\\EuropeanCap 3040 -2352 R0
SYMATTR InstName C5
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL nmos 3584 -2320 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M7
SYMATTR Value IRF740
SYMBOL nmos 3584 -2608 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M8
SYMATTR Value IRF740
SYMBOL Misc\\EuropeanCap 3856 -2480 M0
SYMATTR InstName C7
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL schottky 3744 -2416 M180
WINDOW 0 -29 68 Left 2
WINDOW 3 -106 -4 Left 2
SYMATTR InstName D10
SYMATTR Value MURS120
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 4160 -2336 M0
SYMATTR InstName C12
SYMATTR Value 10µf
SYMBOL IR2110 3984 -2384 M0
WINDOW 0 16 -157 Center 2
SYMATTR InstName U2
SYMBOL Misc\\EuropeanResistor 3680 -2544 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 33
SYMBOL Misc\\EuropeanResistor 3696 -2256 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 33
SYMBOL Misc\\EuropeanCap 3856 -2352 M0
SYMATTR InstName C13
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
TEXT 2744 -2896 Left 2 !.param duty      =5\n.param freq      =50k\n.param period              = 1/freq\n.param TT               = 1e-9\n.param Ton              = 3e-7\n.param Xcond_delay =5e-7\n.param on_width           = period/2*duty/100\n.param delay_1_on        =Xcond_delay\n.param delay_1_off        =on_width - Xcond_delay\n.param delay_2_on        =period/2 + Xcond_delay\n.param delay_2_off        =period/2 + on_width - Xcond_delay
TEXT 2864 -2600 Left 2 !.lib NE5532.sub
TEXT 2864 -2576 Left 2 !.lib LM318.sub
TEXT 2864 -2624 Left 2 !.include ir2110.sub
TEXT 3408 -2528 Left 2 !K2 L1 L5 1.0
TEXT 2896 -2656 Left 2 !.tran .1
