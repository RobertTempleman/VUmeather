Version 4
SHEET 1 1776 680
WIRE 944 -400 752 -400
WIRE 752 -368 752 -400
WIRE 704 -352 512 -352
WIRE 704 -304 624 -304
WIRE 512 -272 512 -352
WIRE 624 -272 624 -304
WIRE 752 -272 752 -288
WIRE 944 -256 944 -400
WIRE 1024 -256 944 -256
WIRE 512 -176 512 -192
WIRE 624 -176 624 -192
WIRE 1200 -128 1168 -128
WIRE 1296 -128 1248 -128
WIRE 944 -112 944 -256
WIRE 944 -112 720 -112
WIRE 1200 -112 1200 -128
WIRE 720 -80 720 -112
WIRE 672 -64 480 -64
WIRE 1200 -48 1200 -64
WIRE 1200 -48 1168 -48
WIRE 1200 -32 1200 -48
WIRE 672 -16 592 -16
WIRE 1248 -16 1248 -48
WIRE 480 16 480 -64
WIRE 592 16 592 -16
WIRE 720 48 720 0
WIRE 1248 64 1184 64
WIRE 1296 64 1296 -128
WIRE 1408 64 1296 64
WIRE 1536 64 1488 64
WIRE 1632 64 1536 64
WIRE 480 112 480 96
WIRE 592 112 592 96
WIRE 1200 192 1200 176
WIRE 1200 192 1168 192
WIRE 1248 192 1248 144
WIRE 1200 208 1200 192
WIRE 1200 272 1200 256
WIRE 1200 272 1168 272
WIRE 1296 272 1296 64
WIRE 1296 272 1248 272
FLAG 1200 -32 0
FLAG 1184 64 0
FLAG 1200 176 0
FLAG 1536 128 0
FLAG 1632 144 0
FLAG 592 112 0
FLAG 480 112 0
FLAG 720 128 0
FLAG 624 -176 0
FLAG 512 -176 0
FLAG 752 -192 0
SYMBOL sw 1248 -32 M180
WINDOW 0 13 4 Invisible 2
SYMATTR InstName S3
SYMATTR SpiceModel SWI
SYMATTR Value ""
SYMBOL voltage 1168 -144 M0
WINDOW 0 32 8 Invisible 2
WINDOW 3 64 -82 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value PULSE(0 400 0 1n 1n .1u 4u)
SYMATTR SpiceLine Rser=0
SYMBOL voltage 1248 48 R0
WINDOW 123 0 0 Left 2
WINDOW 0 24 16 Invisible 2
WINDOW 3 -14 57 Left 2
SYMATTR InstName V7
SYMATTR Value 100
SYMATTR SpiceLine Rser=0
SYMBOL voltage 1248 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 0 24 16 Invisible 2
WINDOW 3 -14 57 Left 2
SYMATTR InstName V8
SYMATTR Value 100
SYMATTR SpiceLine Rser=0
SYMBOL sw 1248 176 R0
WINDOW 0 13 4 Invisible 2
SYMATTR InstName S4
SYMATTR SpiceModel SWI
SYMATTR Value ""
SYMBOL voltage 1168 288 R180
WINDOW 0 32 8 Invisible 2
WINDOW 3 64 -82 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName V9
SYMATTR Value PULSE(0 400 .1u 1n 1n 3.9u 4u)
SYMATTR SpiceLine Rser=0
SYMBOL ind2 1392 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 22µ
SYMATTR SpiceLine Rser=.42
SYMATTR Type ind
SYMBOL Misc\\EuropeanCap 1520 64 R0
WINDOW 0 24 4 Invisible 2
SYMATTR InstName C5
SYMATTR Value .47µ
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL Misc\\EuropeanResistor 1648 48 M0
WINDOW 0 31 40 Invisible 2
WINDOW 3 6 61 Left 2
SYMATTR InstName R3
SYMATTR Value 4
SYMBOL sw 720 16 M180
SYMATTR InstName S1
SYMATTR Value comp
SYMBOL voltage 592 0 R0
WINDOW 3 -31 147 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE({Vlow} 5 0 {Tr} {Tr} 0 {2*Tr})
SYMATTR InstName Vtriangle1
SYMBOL voltage 480 0 R0
WINDOW 3 -80 149 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(2.5 2.5 1000 0)
SYMATTR InstName Vctrl1
SYMBOL voltage 720 32 R0
WINDOW 123 0 0 Left 2
WINDOW 0 24 16 Invisible 2
WINDOW 3 -14 57 Left 2
SYMATTR InstName V1
SYMATTR Value 1
SYMATTR SpiceLine Rser=0
SYMBOL sw 752 -384 R0
SYMATTR InstName S2
SYMATTR Value comp
SYMBOL voltage 624 -288 R0
WINDOW 3 -31 147 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE({Vlow} 5 0 {Tr} {Tr} 0 {2*Tr})
SYMATTR InstName Vtriangle2
SYMBOL voltage 512 -288 R0
WINDOW 3 -80 149 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(2.5 2.5 1000 0)
SYMATTR InstName Vctrl2
SYMBOL voltage 752 -176 M180
WINDOW 123 0 0 Left 2
WINDOW 0 24 16 Invisible 2
WINDOW 3 -14 57 Left 2
SYMATTR InstName V2
SYMATTR Value 1
SYMATTR SpiceLine Rser=0
TEXT 1134 282 Left 2 !.tran .01
TEXT 1320 -16 Left 2 !.model SWI SW(Ron=1n Roff=1000G Vt=0.5 Vh=.4)
TEXT 504 240 Left 2 !.model comp sw (ron=1n Roff=1e8)
TEXT 504 272 Left 2 !.param F=200k Tr={0.5/F} Vlow=0 Vhigh=5
