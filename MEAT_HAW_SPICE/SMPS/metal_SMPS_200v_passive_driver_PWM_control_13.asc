Version 4
SHEET 1 6068 1612
WIRE 224 -3200 208 -3200
WIRE 368 -3200 224 -3200
WIRE 640 -3200 368 -3200
WIRE 768 -3200 640 -3200
WIRE 832 -3200 768 -3200
WIRE 1072 -3200 832 -3200
WIRE 368 -3168 368 -3200
WIRE 640 -3168 640 -3200
WIRE 768 -3168 768 -3200
WIRE 832 -3168 832 -3200
WIRE 224 -3136 224 -3200
WIRE 16 -3120 -16 -3120
WIRE -16 -3104 -16 -3120
WIRE 1072 -3104 1072 -3200
WIRE 768 -3072 768 -3104
WIRE 832 -3072 832 -3088
WIRE 832 -3072 768 -3072
WIRE 368 -3056 368 -3088
WIRE 912 -3056 368 -3056
WIRE 1008 -3056 992 -3056
WIRE 832 -3024 832 -3072
WIRE 368 -3008 368 -3056
WIRE 640 -2976 640 -3088
WIRE 672 -2976 640 -2976
WIRE 768 -2976 752 -2976
WIRE 304 -2960 288 -2960
WIRE 640 -2960 640 -2976
WIRE 1072 -2960 1072 -3008
WIRE 1152 -2960 1072 -2960
WIRE 1200 -2960 1152 -2960
WIRE 16 -2944 -16 -2944
WIRE -16 -2928 -16 -2944
WIRE 576 -2912 560 -2912
WIRE 1072 -2912 1072 -2960
WIRE 224 -2880 208 -2880
WIRE 208 -2864 208 -2880
WIRE 832 -2864 832 -2928
WIRE 912 -2864 832 -2864
WIRE 1008 -2864 992 -2864
WIRE 368 -2848 368 -2912
WIRE 432 -2848 368 -2848
WIRE 368 -2832 368 -2848
WIRE 432 -2832 432 -2848
WIRE 832 -2832 832 -2864
WIRE 1152 -2816 1152 -2960
WIRE 1440 -2800 1360 -2800
WIRE 1504 -2800 1440 -2800
WIRE 1600 -2800 1504 -2800
WIRE 1440 -2784 1440 -2800
WIRE 1504 -2784 1504 -2800
WIRE 208 -2768 208 -2784
WIRE 1360 -2768 1360 -2800
WIRE 1600 -2768 1600 -2800
WIRE 368 -2720 368 -2768
WIRE 432 -2720 432 -2752
WIRE 432 -2720 368 -2720
WIRE 640 -2720 640 -2864
WIRE 640 -2720 432 -2720
WIRE 832 -2720 832 -2752
WIRE 832 -2720 640 -2720
WIRE 1072 -2720 1072 -2816
WIRE 1072 -2720 832 -2720
WIRE 1152 -2720 1152 -2736
WIRE 1152 -2720 1072 -2720
WIRE 1808 -2720 1792 -2720
WIRE 1920 -2720 1872 -2720
WIRE 2032 -2720 1920 -2720
WIRE 2128 -2720 2032 -2720
WIRE 640 -2704 640 -2720
WIRE 1440 -2688 1440 -2704
WIRE 1504 -2672 1504 -2720
WIRE 1792 -2672 1792 -2720
WIRE 1808 -2672 1792 -2672
WIRE 1888 -2672 1872 -2672
WIRE 1360 -2640 1360 -2672
WIRE 1440 -2640 1360 -2640
WIRE 1600 -2640 1600 -2672
WIRE 1600 -2640 1520 -2640
WIRE 1792 -2640 1792 -2672
WIRE 2032 -2640 2032 -2720
WIRE 2128 -2640 2128 -2720
WIRE 224 -2592 208 -2592
WIRE 368 -2592 224 -2592
WIRE 640 -2592 368 -2592
WIRE 768 -2592 640 -2592
WIRE 832 -2592 768 -2592
WIRE 1072 -2592 832 -2592
WIRE 1360 -2592 1360 -2640
WIRE 1600 -2592 1600 -2640
WIRE 368 -2560 368 -2592
WIRE 640 -2560 640 -2592
WIRE 768 -2560 768 -2592
WIRE 832 -2560 832 -2592
WIRE 224 -2528 224 -2592
WIRE 48 -2512 16 -2512
WIRE 16 -2496 16 -2512
WIRE 1072 -2496 1072 -2592
WIRE 1792 -2496 1792 -2560
WIRE 1808 -2496 1792 -2496
WIRE 1888 -2496 1888 -2672
WIRE 1888 -2496 1872 -2496
WIRE 2032 -2496 2032 -2576
WIRE 2032 -2496 1888 -2496
WIRE 2128 -2496 2128 -2560
WIRE 2128 -2496 2032 -2496
WIRE 768 -2464 768 -2496
WIRE 832 -2464 832 -2480
WIRE 832 -2464 768 -2464
WIRE 1360 -2464 1360 -2496
WIRE 1600 -2464 1600 -2496
WIRE 1600 -2464 1360 -2464
WIRE 2032 -2464 2032 -2496
WIRE 368 -2448 368 -2480
WIRE 912 -2448 368 -2448
WIRE 1008 -2448 992 -2448
WIRE 1360 -2432 1360 -2464
WIRE 1792 -2432 1792 -2496
WIRE 1808 -2432 1792 -2432
WIRE 1920 -2432 1920 -2720
WIRE 1920 -2432 1872 -2432
WIRE 832 -2416 832 -2464
WIRE 368 -2400 368 -2448
WIRE 640 -2368 640 -2480
WIRE 672 -2368 640 -2368
WIRE 768 -2368 752 -2368
WIRE 304 -2352 288 -2352
WIRE 640 -2352 640 -2368
WIRE 1072 -2352 1072 -2400
WIRE 1152 -2352 1072 -2352
WIRE 1200 -2352 1152 -2352
WIRE 576 -2304 560 -2304
WIRE 1072 -2304 1072 -2352
WIRE 48 -2288 16 -2288
WIRE 16 -2272 16 -2288
WIRE 832 -2256 832 -2320
WIRE 912 -2256 832 -2256
WIRE 1008 -2256 992 -2256
WIRE 368 -2240 368 -2304
WIRE 432 -2240 368 -2240
WIRE 368 -2224 368 -2240
WIRE 432 -2224 432 -2240
WIRE 832 -2224 832 -2256
WIRE 1152 -2208 1152 -2352
WIRE 368 -2112 368 -2160
WIRE 432 -2112 432 -2144
WIRE 432 -2112 368 -2112
WIRE 640 -2112 640 -2256
WIRE 640 -2112 432 -2112
WIRE 832 -2112 832 -2144
WIRE 832 -2112 640 -2112
WIRE 1072 -2112 1072 -2208
WIRE 1072 -2112 832 -2112
WIRE 1152 -2112 1152 -2128
WIRE 1152 -2112 1072 -2112
WIRE 640 -2096 640 -2112
FLAG 224 -2880 +
IOPIN 224 -2880 BiDir
FLAG 208 -2768 0
FLAG 1360 -2432 0
FLAG 1440 -2688 +
IOPIN 1440 -2688 BiDir
FLAG 2032 -2464 0
FLAG 224 -2464 -
IOPIN 224 -2464 BiDir
FLAG -16 -3024 -
IOPIN -16 -3024 BiDir
FLAG 16 -3120 mosfets_on1
FLAG -16 -2848 -
IOPIN -16 -2848 BiDir
FLAG 16 -2944 mosfets_off1
FLAG 224 -3072 -
IOPIN 224 -3072 BiDir
FLAG 1200 -2960 MD1
FLAG 1200 -2352 MD2
FLAG 480 -2304 mosfets_off2
FLAG 208 -2960 mosfets_on1
FLAG 208 -2352 mosfets_on2
FLAG 480 -2912 mosfets_off1
FLAG 16 -2192 -
IOPIN 16 -2192 BiDir
FLAG 48 -2288 mosfets_off2
FLAG 16 -2416 -
IOPIN 16 -2416 BiDir
FLAG 48 -2512 mosfets_on2
FLAG 208 -3200 +
IOPIN 208 -3200 BiDir
FLAG 208 -2592 +
IOPIN 208 -2592 BiDir
FLAG 1312 -2688 MD1
FLAG 1648 -2512 MD1
FLAG 1648 -2688 MD2
FLAG 1312 -2512 MD2
FLAG 640 -2704 0
FLAG 640 -2096 0
FLAG 1504 -2672 0
SYMBOL voltage 208 -2880 M0
WINDOW 123 0 0 Left 2
WINDOW 39 -61 27 Left 2
WINDOW 0 -54 49 Left 2
WINDOW 3 -9 55 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V4
SYMATTR Value 15
SYMBOL nmos 1312 -2592 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M3
SYMATTR Value IRF740
SYMBOL nmos 1312 -2768 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M1
SYMATTR Value IRF740
SYMBOL ind2 1536 -2656 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L3
SYMATTR Value 300µ
SYMATTR SpiceLine Rser=.001
SYMATTR Type ind
SYMBOL ind2 1808 -2544 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value 100m
SYMATTR SpiceLine Rser=.1
SYMATTR Type ind
SYMBOL diode 1808 -2704 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode 1872 -2656 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL diode 1872 -2480 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode 1808 -2416 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL Misc\\EuropeanCap 2016 -2640 R0
SYMATTR InstName C4
SYMATTR Value 330µ
SYMBOL Misc\\EuropeanResistor 2144 -2656 M0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL nmos 1648 -2592 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M2
SYMATTR Value IRF740
SYMBOL nmos 1648 -2768 M0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M4
SYMATTR Value IRF740
SYMBOL Misc\\EuropeanCap 208 -2528 R0
SYMATTR InstName C8
SYMATTR Value 100µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL npn3 576 -2352 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 464 -2320 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL npn3 1008 -2304 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL pnp2 1008 -2400 M180
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL voltage -16 -3120 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize1
SYMATTR Value PULSE(0 4.8 {delay_1_on} {TT} {TT} {Ton} {period})
SYMATTR SpiceLine Rser=0
SYMBOL npn3 304 -2400 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 192 -2368 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL pnp2 768 -2320 M180
SYMATTR InstName Q5
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 816 -2464 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL Misc\\EuropeanResistor 656 -2384 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 470
SYMBOL Misc\\EuropeanCap 752 -2560 R0
SYMATTR InstName C9
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 416 -2128 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL Misc\\EuropeanCap 352 -2224 R0
SYMATTR InstName C10
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 1008 -2240 M270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R11
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 896 -2464 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 352 -2464 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 624 -2464 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 816 -2128 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL Misc\\EuropeanCap 208 -3136 R0
SYMATTR InstName C11
SYMATTR Value 100µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL npn3 576 -2960 R0
SYMATTR InstName Q6
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 464 -2928 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL npn3 1008 -2912 R0
SYMATTR InstName Q7
SYMATTR Value 2N3904
SYMBOL pnp2 1008 -3008 M180
SYMATTR InstName Q8
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 1136 -2720 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R17
SYMATTR Value 20Meg
SYMBOL npn3 304 -3008 R0
SYMATTR InstName Q9
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 192 -2976 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL pnp2 768 -2928 M180
SYMATTR InstName Q10
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 816 -3072 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL Misc\\EuropeanResistor 656 -2992 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 470
SYMBOL Misc\\EuropeanCap 752 -3168 R0
SYMATTR InstName C12
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 416 -2736 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL Misc\\EuropeanCap 352 -2832 R0
SYMATTR InstName C13
SYMATTR Value 10n
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanResistor 1008 -2848 M270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R22
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 896 -3072 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 352 -3072 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 624 -3072 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R25
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 816 -2736 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R26
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 1136 -2112 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R27
SYMATTR Value 20Meg
SYMBOL Misc\\EuropeanCap 1488 -2784 R0
SYMATTR InstName C2
SYMATTR Value 4700µ
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL ind2 1456 -2688 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value 10m
SYMATTR SpiceLine Rser=.001
SYMATTR Type ind
SYMBOL voltage -16 -2944 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize2
SYMATTR Value PULSE(0 4.8 {delay_1_off} {TT} {TT} {Ton} {period})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 16 -2512 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize3
SYMATTR Value PULSE(0 4.8 {delay_2_on} {TT} {TT} {Ton} {period})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 16 -2288 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize4
SYMATTR Value PULSE(0 4.8 {delay_2_off} {TT} {TT} {Ton} {period})
SYMATTR SpiceLine Rser=0
TEXT 56 -2840 Left 2 !.lib NE5532.sub
TEXT 48 -2808 Left 2 !.lib LM318.sub
TEXT 664 -2648 Left 2 !.include ir2110.sub
TEXT 1424 -2584 Left 2 !K2 L3 L5 1.0
TEXT 834 -2644 Left 2 !.tran .00005
TEXT -136 -2728 Left 2 !.param duty      =100\n.param freq      =100k\n.param period              = 1/freq\n.param TT               = 1e-9\n.param Ton              = 1e-7\n.param Xcond_delay =1e-7\n.param on_width           = period/2*duty/100\n.param delay_1_on        =Xcond_delay\n.param delay_1_off        =on_width - Xcond_delay\n.param delay_2_on        =period/2 + Xcond_delay\n.param delay_2_off        =period/2 + on_width - Xcond_delay
