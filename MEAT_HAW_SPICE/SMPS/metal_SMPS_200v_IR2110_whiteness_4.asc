Version 4
SHEET 1 6068 1612
WIRE 3280 -2992 3264 -2992
WIRE 3392 -2992 3344 -2992
WIRE 3504 -2992 3392 -2992
WIRE 3600 -2992 3504 -2992
WIRE 3072 -2960 3040 -2960
WIRE 3168 -2960 3136 -2960
WIRE 3040 -2944 3040 -2960
WIRE 3136 -2944 3136 -2960
WIRE 3264 -2944 3264 -2992
WIRE 3280 -2944 3264 -2944
WIRE 3360 -2944 3344 -2944
WIRE 3264 -2912 3264 -2944
WIRE 3504 -2912 3504 -2992
WIRE 3600 -2912 3600 -2992
WIRE 3648 -2848 3648 -2864
WIRE 3696 -2848 3696 -2864
WIRE 3696 -2848 3648 -2848
WIRE 3264 -2768 3264 -2832
WIRE 3280 -2768 3264 -2768
WIRE 3360 -2768 3360 -2944
WIRE 3360 -2768 3344 -2768
WIRE 3504 -2768 3504 -2848
WIRE 3504 -2768 3360 -2768
WIRE 3600 -2768 3600 -2832
WIRE 3600 -2768 3504 -2768
WIRE 3696 -2752 3696 -2768
WIRE 3504 -2736 3504 -2768
WIRE 3264 -2704 3264 -2768
WIRE 3280 -2704 3264 -2704
WIRE 3392 -2704 3392 -2992
WIRE 3392 -2704 3344 -2704
WIRE 3536 -2640 3360 -2640
WIRE 3600 -2640 3536 -2640
WIRE 3792 -2640 3600 -2640
WIRE 3360 -2608 3360 -2640
WIRE 3536 -2592 3536 -2640
WIRE 2816 -2528 2784 -2528
WIRE 3232 -2528 3024 -2528
WIRE 2816 -2496 2784 -2496
WIRE 3056 -2496 3024 -2496
WIRE 3136 -2496 3056 -2496
WIRE 3600 -2496 3600 -2640
WIRE 3056 -2480 3056 -2496
WIRE 3136 -2480 3136 -2496
WIRE 3360 -2480 3360 -2512
WIRE 3408 -2480 3360 -2480
WIRE 3536 -2480 3536 -2528
WIRE 3536 -2480 3488 -2480
WIRE 3056 -2400 3056 -2416
WIRE 3056 -2400 3024 -2400
WIRE 3360 -2400 3360 -2480
WIRE 3360 -2400 3056 -2400
WIRE 2752 -2368 2720 -2368
WIRE 2816 -2368 2752 -2368
WIRE 3056 -2368 3024 -2368
WIRE 3136 -2368 3136 -2416
WIRE 3136 -2368 3056 -2368
WIRE 3152 -2368 3136 -2368
WIRE 3536 -2368 3536 -2480
WIRE 3056 -2352 3056 -2368
WIRE 2752 -2336 2752 -2368
WIRE 3360 -2320 3360 -2400
WIRE 3056 -2272 3056 -2288
WIRE 3056 -2272 3024 -2272
WIRE 2752 -2240 2752 -2272
WIRE 2816 -2240 2752 -2240
WIRE 3216 -2240 3024 -2240
WIRE 3312 -2240 3296 -2240
WIRE 3056 -2192 3056 -2272
WIRE 3360 -2192 3360 -2224
WIRE 3360 -2192 3056 -2192
WIRE 3536 -2192 3536 -2304
WIRE 3536 -2192 3360 -2192
WIRE 3600 -2192 3600 -2432
WIRE 3600 -2192 3536 -2192
WIRE 3840 -2192 3600 -2192
WIRE 2752 -2160 2752 -2240
WIRE 3360 -2160 3360 -2192
FLAG 3504 -2736 0
FLAG 3072 -2960 lo
FLAG 3168 -2960 hi
FLAG 3696 -2864 +
IOPIN 3696 -2864 BiDir
FLAG 3696 -2752 0
FLAG 3360 -2160 0
FLAG 3648 -2864 VCC_mosfet_drive
FLAG 2752 -2160 0
FLAG 2784 -2528 hi
FLAG 2784 -2496 lo
FLAG 3136 -2864 0
FLAG 3040 -2864 0
FLAG 3824 -2752 0
FLAG 3824 -2832 VDD_logic
FLAG 2720 -2368 VDD_logic
FLAG 3152 -2368 VCC_mosfet_drive
FLAG 3792 -2640 +
IOPIN 3792 -2640 BiDir
SYMBOL ind2 3280 -2816 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value 20m
SYMATTR SpiceLine Rser=.42
SYMATTR Type ind
SYMBOL diode 3280 -2976 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value RR2L4S
SYMBOL Misc\\EuropeanCap 3488 -2912 R0
SYMATTR InstName C4
SYMATTR Value 50n
SYMBOL Misc\\EuropeanResistor 3616 -2928 M0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL voltage 3040 -2960 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize3
SYMATTR Value PULSE(0 5 {lo_delay} {TT} {TT} {on_width} {period})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 3696 -2864 M0
WINDOW 123 0 0 Left 2
WINDOW 39 -61 27 Left 2
WINDOW 0 -54 49 Left 2
WINDOW 3 -9 55 Left 2
SYMATTR SpiceLine Rser=10
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL nmos 3312 -2320 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M5
SYMATTR Value IRF740
SYMBOL nmos 3312 -2608 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M6
SYMATTR Value IRF740
SYMBOL Misc\\EuropeanCap 3040 -2480 R0
SYMATTR InstName C1
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL diode 3152 -2416 R180
WINDOW 0 -29 68 Left 2
WINDOW 3 -106 -4 Left 2
SYMATTR InstName D1
SYMATTR Value MURS120
SYMBOL cap 2736 -2336 R0
SYMATTR InstName C3
SYMATTR Value 10µf
SYMBOL IR2110 2912 -2384 R0
WINDOW 0 16 -157 Center 2
SYMATTR InstName U1
SYMBOL ind2 3504 -2496 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 20µ
SYMATTR SpiceLine Rser=.002
SYMATTR Type ind
SYMBOL Misc\\EuropeanResistor 3216 -2544 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 33
SYMBOL Misc\\EuropeanResistor 3200 -2256 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 33
SYMBOL Misc\\EuropeanCap 3040 -2352 R0
SYMATTR InstName C5
SYMATTR Value 2µ2
SYMATTR SpiceLine V=400 Irms=1 Lser=0
SYMBOL voltage 3136 -2960 M0
WINDOW 0 -21 128 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName energize1
SYMATTR Value PULSE(0 5 {hi_delay} {TT} {TT} {on_width} {period})
SYMATTR SpiceLine Rser=0
SYMBOL voltage 3824 -2848 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL Misc\\EuropeanCap 3520 -2592 R0
SYMATTR InstName C2
SYMATTR Value 4µ4
SYMBOL Misc\\EuropeanCap 3520 -2368 R0
SYMATTR InstName C6
SYMATTR Value 4µ4
SYMBOL diode 3280 -2688 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value RR2L4S
SYMBOL diode 3344 -2784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value RR2L4S
SYMBOL diode 3344 -2960 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value RR2L4S
SYMBOL Misc\\EuropeanCap 3584 -2496 R0
SYMATTR InstName C7
SYMATTR Value 4700µ
TEXT 2744 -2896 Left 2 !.param duty      =50\n.param freq      =50k\n.param period              = 1/freq\n.param TT               = 1e-9\n.param Xcond_delay =1e-8\n.param on_width   = period/2*duty/100-Xcond_delay*2\n.param lo_delay    =Xcond_delay\n.param hi_delay    =period/2 + Xcond_delay
TEXT 2864 -2600 Left 2 !.lib NE5532.sub
TEXT 2864 -2576 Left 2 !.lib LM318.sub
TEXT 2864 -2624 Left 2 !.include ir2110.sub
TEXT 3408 -2528 Left 2 !K2 L1 L5 1.0
TEXT 2896 -2656 Left 2 !.tran .01
