Version 4
SHEET 1 6068 1612
WIRE 128 -2400 64 -2400
WIRE 192 -2400 128 -2400
WIRE 272 -2400 192 -2400
WIRE 336 -2400 272 -2400
WIRE 400 -2400 336 -2400
WIRE 512 -2400 400 -2400
WIRE 576 -2400 512 -2400
WIRE 688 -2400 576 -2400
WIRE 1136 -2400 1072 -2400
WIRE 1216 -2400 1136 -2400
WIRE 1616 -2400 1216 -2400
WIRE 1840 -2400 1616 -2400
WIRE 1936 -2400 1840 -2400
WIRE 2000 -2400 1936 -2400
WIRE 2112 -2400 2000 -2400
WIRE 2176 -2400 2112 -2400
WIRE 2288 -2400 2176 -2400
WIRE 1840 -2384 1840 -2400
WIRE 2512 -2384 2512 -2400
WIRE 912 -2368 912 -2384
WIRE -80 -2352 -192 -2352
WIRE -64 -2352 -80 -2352
WIRE -192 -2336 -192 -2352
WIRE -80 -2336 -80 -2352
WIRE 64 -2336 64 -2400
WIRE 128 -2336 128 -2400
WIRE 192 -2336 192 -2400
WIRE 272 -2336 272 -2400
WIRE 336 -2336 336 -2400
WIRE 400 -2336 400 -2400
WIRE 512 -2336 512 -2400
WIRE 576 -2336 576 -2400
WIRE 1072 -2336 1072 -2400
WIRE 1136 -2336 1136 -2400
WIRE 1216 -2336 1216 -2400
WIRE 1408 -2336 1296 -2336
WIRE 1776 -2336 1488 -2336
WIRE 1936 -2336 1936 -2400
WIRE 2000 -2336 2000 -2400
WIRE 2112 -2336 2112 -2400
WIRE 2176 -2336 2176 -2400
WIRE 1616 -2320 1616 -2400
WIRE 2288 -2304 2288 -2400
WIRE 2320 -2304 2288 -2304
WIRE 688 -2288 688 -2400
WIRE 720 -2288 688 -2288
WIRE 2400 -2288 2384 -2288
WIRE 2416 -2288 2400 -2288
WIRE 2512 -2288 2512 -2304
WIRE 2512 -2288 2496 -2288
WIRE 2624 -2288 2512 -2288
WIRE 800 -2272 784 -2272
WIRE 816 -2272 800 -2272
WIRE 912 -2272 912 -2288
WIRE 912 -2272 896 -2272
WIRE 1024 -2272 912 -2272
WIRE 2320 -2272 2288 -2272
WIRE 2512 -2272 2512 -2288
WIRE 720 -2256 688 -2256
WIRE 912 -2256 912 -2272
WIRE -192 -2240 -192 -2272
WIRE -80 -2240 -80 -2256
WIRE -80 -2240 -192 -2240
WIRE -32 -2240 -80 -2240
WIRE 128 -2240 128 -2256
WIRE 1136 -2240 1136 -2256
WIRE -80 -2224 -80 -2240
WIRE -32 -2224 -32 -2240
WIRE -192 -2208 -192 -2240
WIRE 912 -2192 912 -2208
WIRE 1456 -2192 1424 -2192
WIRE 1552 -2192 1536 -2192
WIRE 2512 -2192 2512 -2208
WIRE 192 -2176 192 -2256
WIRE 192 -2176 144 -2176
WIRE 336 -2176 336 -2256
WIRE 400 -2176 400 -2256
WIRE 400 -2176 336 -2176
WIRE 416 -2176 400 -2176
WIRE 512 -2176 512 -2272
WIRE 512 -2176 496 -2176
WIRE 576 -2176 576 -2272
WIRE 576 -2176 512 -2176
WIRE 592 -2176 576 -2176
WIRE 688 -2176 688 -2256
WIRE 688 -2176 672 -2176
WIRE 704 -2176 688 -2176
WIRE 800 -2176 800 -2272
WIRE 800 -2176 784 -2176
WIRE 1216 -2176 1216 -2256
WIRE 1296 -2176 1296 -2336
WIRE 1296 -2176 1216 -2176
WIRE 1424 -2176 1424 -2192
WIRE 1936 -2176 1936 -2256
WIRE 2000 -2176 2000 -2256
WIRE 2000 -2176 1936 -2176
WIRE 2016 -2176 2000 -2176
WIRE 2112 -2176 2112 -2272
WIRE 2112 -2176 2096 -2176
WIRE 2176 -2176 2176 -2272
WIRE 2176 -2176 2112 -2176
WIRE 2192 -2176 2176 -2176
WIRE 2288 -2176 2288 -2272
WIRE 2288 -2176 2272 -2176
WIRE 2304 -2176 2288 -2176
WIRE 2400 -2176 2400 -2288
WIRE 2400 -2176 2384 -2176
WIRE 400 -2144 400 -2176
WIRE 448 -2144 400 -2144
WIRE 2000 -2144 2000 -2176
WIRE 2048 -2144 2000 -2144
WIRE -192 -2128 -192 -2144
WIRE -80 -2128 -80 -2144
WIRE -80 -2128 -192 -2128
WIRE -48 -2128 -80 -2128
WIRE 80 -2128 64 -2128
WIRE 400 -2128 400 -2144
WIRE 1152 -2128 1136 -2128
WIRE 1360 -2128 1344 -2128
WIRE 2000 -2128 2000 -2144
WIRE -192 -2112 -192 -2128
WIRE -80 -2112 -80 -2128
WIRE 64 -2112 64 -2128
WIRE 448 -2112 448 -2144
WIRE 1136 -2112 1136 -2128
WIRE 1344 -2112 1344 -2128
WIRE 2048 -2112 2048 -2144
WIRE 272 -2048 272 -2256
WIRE 352 -2048 272 -2048
WIRE 1840 -2048 1840 -2288
WIRE 1840 -2048 1776 -2048
WIRE 1952 -2048 1840 -2048
WIRE 272 -2032 272 -2048
WIRE 1776 -2032 1776 -2048
WIRE -192 -2016 -192 -2048
WIRE -80 -2016 -80 -2032
WIRE -80 -2016 -192 -2016
WIRE -64 -2016 -80 -2016
WIRE 64 -2016 64 -2032
WIRE 400 -2016 400 -2032
WIRE 448 -2016 448 -2048
WIRE 448 -2016 400 -2016
WIRE 1136 -2016 1136 -2032
WIRE 1344 -2016 1344 -2032
WIRE 1840 -2016 1840 -2048
WIRE 2000 -2016 2000 -2032
WIRE 2048 -2016 2048 -2048
WIRE 2048 -2016 2000 -2016
WIRE 192 -1984 192 -2176
WIRE 208 -1984 192 -1984
WIRE 1616 -1984 1616 -2144
WIRE 1712 -1984 1616 -1984
WIRE 64 -1920 64 -1936
WIRE 144 -1920 144 -2080
WIRE 144 -1920 64 -1920
WIRE 272 -1920 272 -1936
WIRE 272 -1920 144 -1920
WIRE 400 -1920 400 -2016
WIRE 400 -1920 272 -1920
WIRE 416 -1920 400 -1920
WIRE 1136 -1920 1136 -1936
WIRE 1216 -1920 1216 -2080
WIRE 1216 -1920 1136 -1920
WIRE 1344 -1920 1344 -1936
WIRE 1344 -1920 1216 -1920
WIRE 1424 -1920 1424 -2080
WIRE 1424 -1920 1344 -1920
WIRE 1776 -1920 1776 -1936
WIRE 1776 -1920 1424 -1920
WIRE 1840 -1920 1840 -1936
WIRE 1840 -1920 1776 -1920
WIRE 2000 -1920 2000 -2016
WIRE 2000 -1920 1840 -1920
WIRE 2016 -1920 2000 -1920
FLAG 64 -2272 -
IOPIN 64 -2272 BiDir
FLAG -48 -2128 -
IOPIN -48 -2128 BiDir
FLAG -64 -2352 +
IOPIN -64 -2352 BiDir
FLAG -32 -2224 0
FLAG 128 -2240 0
FLAG -64 -2016 VL+
IOPIN -64 -2016 BiDir
FLAG 752 -2240 +
IOPIN 752 -2240 BiDir
FLAG 752 -2304 -
IOPIN 752 -2304 BiDir
FLAG 912 -2384 -
IOPIN 912 -2384 BiDir
FLAG 912 -2192 VL+
IOPIN 912 -2192 BiDir
FLAG 416 -1920 -
IOPIN 416 -1920 BiDir
FLAG 1072 -2272 -
IOPIN 1072 -2272 BiDir
FLAG 1136 -2240 0
FLAG 2352 -2256 +
IOPIN 2352 -2256 BiDir
FLAG 2352 -2320 -
IOPIN 2352 -2320 BiDir
FLAG 2512 -2400 -
IOPIN 2512 -2400 BiDir
FLAG 2512 -2192 VL+
IOPIN 2512 -2192 BiDir
FLAG 2016 -1920 -
IOPIN 2016 -1920 BiDir
SYMBOL Misc\\EuropeanCap 48 -2336 R0
SYMATTR InstName C3
SYMATTR Value 4700µF
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL ind 384 -2352 R0
SYMATTR InstName L1
SYMATTR Value 400µH
SYMATTR SpiceLine Rser=.5 Cpar=200p
SYMBOL Misc\\EuropeanResistor 320 -2240 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 400 -2192 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 8 53 VTop 2
SYMATTR InstName R2
SYMATTR Value 680
SYMBOL diode 496 -2336 R0
WINDOW 3 21 5 Left 2
WINDOW 0 20 58 Left 2
SYMATTR Value 1N4148
SYMATTR InstName D1
SYMBOL diode 592 -2272 R180
WINDOW 0 -7 6 Left 2
WINDOW 3 -39 58 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL Misc\\EuropeanResistor 112 -2240 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL nmos 352 -2128 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M1
SYMATTR Value IRF740
SYMBOL voltage 64 -2032 M0
WINDOW 0 -48 58 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName Arduino_drive
SYMATTR Value PULSE(0 4.8 .01 0 0 .00015 .1 1000)
SYMATTR SpiceLine Rser=0
SYMBOL voltage -80 -2240 M0
WINDOW 123 0 0 Left 2
WINDOW 39 -63 34 Left 2
WINDOW 0 -53 60 Left 2
WINDOW 3 -15 62 Left 2
SYMATTR SpiceLine Rser=2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL voltage -80 -2352 M0
WINDOW 123 0 0 Left 2
WINDOW 39 -61 27 Left 2
WINDOW 0 -54 49 Left 2
WINDOW 3 -9 55 Left 2
SYMATTR SpiceLine Rser=100
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL voltage -80 -2016 M180
WINDOW 123 0 0 Left 2
WINDOW 39 13 78 Left 2
WINDOW 0 37 57 Left 2
WINDOW 3 -3 60 Left 2
SYMATTR SpiceLine Rser=5
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL npn3 80 -2176 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 176 -2240 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL Misc\\EuropeanResistor 48 -2016 M180
WINDOW 0 -24 74 Left 2
WINDOW 3 -19 34 Left 2
SYMATTR InstName R9
SYMATTR Value 68
SYMBOL Misc\\EuropeanCap -208 -2208 R0
SYMATTR InstName C1
SYMATTR Value 4700µF
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanCap -208 -2336 R0
SYMATTR InstName C2
SYMATTR Value 100µF
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Misc\\EuropeanCap -208 -2112 R0
SYMATTR InstName C4
SYMATTR Value 100µF
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL Opamps\\opamp2 752 -2208 M180
WINDOW 3 -32 63 Left 2
SYMATTR Value lm318
SYMATTR InstName U3
SYMBOL Misc\\EuropeanResistor 576 -2160 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 100
SYMBOL Misc\\EuropeanResistor 688 -2160 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL Misc\\EuropeanResistor 800 -2288 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 5k6
SYMBOL Misc\\EuropeanResistor 896 -2384 R0
SYMATTR InstName R19
SYMATTR Value 3k3
SYMBOL schottky 928 -2272 M0
WINDOW 0 -25 33 Left 2
WINDOW 3 -55 53 Left 2
SYMATTR InstName D6
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL npn3 208 -2032 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL diode 464 -2048 R180
WINDOW 0 -24 65 Left 2
WINDOW 3 -90 34 Left 2
SYMATTR InstName D3
SYMATTR Value 1SR156-400
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL Misc\\EuropeanResistor 256 -2240 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R5
SYMATTR Value 2k2
SYMBOL Misc\\EuropeanCap 1056 -2336 R0
SYMATTR InstName C5
SYMATTR Value 4700µF
SYMATTR SpiceLine V=400 Irms=1 Rser=.32 Lser=0
SYMBOL ind 1984 -2352 R0
SYMATTR InstName L2
SYMATTR Value 400µH
SYMATTR SpiceLine Rser=.5 Cpar=200p
SYMBOL Misc\\EuropeanResistor 1920 -2240 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R6
SYMATTR Value 470
SYMBOL Misc\\EuropeanResistor 2000 -2192 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 8 53 VTop 2
SYMATTR InstName R7
SYMATTR Value 680
SYMBOL diode 2096 -2336 R0
WINDOW 3 21 5 Left 2
WINDOW 0 20 58 Left 2
SYMATTR Value 1N4148
SYMATTR InstName D4
SYMBOL diode 2192 -2272 R180
WINDOW 0 -7 6 Left 2
WINDOW 3 -39 58 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL Misc\\EuropeanResistor 1120 -2240 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL nmos 1952 -2128 R0
WINDOW 0 -21 44 Left 2
WINDOW 3 -12 -5 Left 2
SYMATTR InstName M2
SYMATTR Value IRF740
SYMBOL voltage 1344 -2032 M0
WINDOW 0 -48 58 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName off_drive
SYMATTR Value PULSE(0 4.8 .01015 0 0 .00001 .1 1000)
SYMATTR SpiceLine Rser=0
SYMBOL npn3 1360 -2176 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 1328 -2016 M180
WINDOW 0 -24 74 Left 2
WINDOW 3 -19 34 Left 2
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL Opamps\\opamp2 2352 -2224 M180
WINDOW 3 -32 63 Left 2
SYMATTR Value lm318
SYMATTR InstName U1
SYMBOL Misc\\EuropeanResistor 2176 -2160 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL Misc\\EuropeanResistor 2288 -2160 R270
WINDOW 0 27 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL Misc\\EuropeanResistor 2400 -2304 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 5k6
SYMBOL Misc\\EuropeanResistor 2496 -2400 R0
SYMATTR InstName R16
SYMATTR Value 3k3
SYMBOL schottky 2528 -2272 M0
WINDOW 0 -25 33 Left 2
WINDOW 3 -55 53 Left 2
SYMATTR InstName D7
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL npn3 1712 -2032 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL diode 2064 -2048 R180
WINDOW 0 -24 65 Left 2
WINDOW 3 -90 34 Left 2
SYMATTR InstName D8
SYMATTR Value 1SR156-400
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL pnp2 1776 -2384 R0
SYMATTR InstName Q5
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 1824 -1920 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R20
SYMATTR Value 100k
SYMBOL voltage 1136 -2032 M0
WINDOW 0 -48 58 Left 2
WINDOW 3 -134 119 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR InstName on_drive1
SYMATTR Value PULSE(0 4.8 .01 0 0 .00013 .1 1000)
SYMATTR SpiceLine Rser=0
SYMBOL npn3 1152 -2176 R0
SYMATTR InstName Q6
SYMATTR Value 2N3904
SYMBOL Misc\\EuropeanResistor 1200 -2240 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL Misc\\EuropeanResistor 1120 -2016 M180
WINDOW 0 -24 74 Left 2
WINDOW 3 -19 34 Left 2
SYMATTR InstName R22
SYMATTR Value 100
SYMBOL Misc\\EuropeanResistor 1392 -2352 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 470
SYMBOL pnp2 1552 -2240 R0
SYMATTR InstName Q7
SYMATTR Value 2N3906
SYMBOL Misc\\EuropeanResistor 1600 -2224 M180
WINDOW 0 31 76 Left 2
WINDOW 3 31 40 Left 2
SYMATTR InstName R23
SYMATTR Value 100
SYMBOL Misc\\EuropeanResistor 1440 -2208 M90
WINDOW 0 5 56 VBottom 2
WINDOW 3 27 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 100
TEXT -216 -2000 Left 2 !.tran 0 1.0103 .00999
TEXT -184 -1976 Left 2 !.lib NE5532.sub
TEXT -184 -1952 Left 2 !.lib LM318.sub
